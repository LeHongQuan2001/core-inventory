"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[506],{2506:(vn,G,u)=>{u.r(G),u.d(G,{AdminModule:()=>Zn});var g=u(6895),c=u(4006),at=u(8776),Z=u(7337),C=u(8694),S=u(8739),v=u(2340),R=u(3906),f=u(5938),rt=u(7101);class B{static MatchPassword(s){s.get("confirmPassword").setErrors(null);const n=s.get("password")?.value??s.get("newPassword")?.value,i=s.get("confirmPassword").value;if(!n||n==i)return null;s.get("confirmPassword").setErrors({MatchPassword:!0})}}var J=u(9521),t=u(4650),T=u(2612),x=u(9066),q=u(4004);class lt{constructor(s){this.id="",this.name="",this.uri="",this.vendor="",this.package="",this.controller="",this.methods=[],this.middleware=[],this.wheres=[],this.isAllow=!1,s&&(this.id=s.route.id||null,this.name=s.route.name||null,this.uri=s.route.uri||null,this.vendor=s.route.vendor||null,this.package=s.route.package||null,this.methods=s.route.methods||[],this.controller=s.route.controller||null,this.middleware=s.route.middleware||[],this.wheres=s.route.wheres||null,this.isAllow=1===s.allow)}}var V=u(529),z=u(600);let X=(()=>{var e;class s{constructor(i,o){this.http=i,this.backendService=o,this.apiServerPaths=v.N.backendServer.paths}details(i,o){return this.backendService.get(this.apiServerPaths.administrator.permission.details+`/${i}/${o}`,{headers:{Accept:"application/json"},params:{encryptParam:!0}},(0,q.U)(l=>{const d=[],h=[],p=[],_=l.data.routes;for(const b in _){const w=new lt(_[b]);d.push(w),!0===w.isAllow?h.push(w):p.push(w)}const A=[];for(const b in l.data.modules){const w=l.data.modules[b];for(const L in w)A.push(b+" / "+w[L])}return{data:{routes:{all:d,allow:h,deny:p},extraPermission:l.data.extra_permission,packages:A,featureFlags:l.data.featureFlags},count:d.length}}))}set(i,o,a,r){return this.backendService.post(this.apiServerPaths.administrator.permission.set+`/${i}/${o}`,{routeId:a.id,allow:r,encryptBody:!0},(0,q.U)(h=>h))}setExtraPermissions(i,o,a){return this.backendService.post(this.apiServerPaths.administrator.permission.setExtra+`/${i}/${o}`,{extra_permissions:a},(0,q.U)(d=>d))}}return(e=s).\u0275fac=function(i){return new(i||e)(t.LFG(V.eN),t.LFG(z.v))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),s})();var O=u(803),W=u(455);const ct=["domainInput"],dt=["auto"],mt=["keyword"],ut=["groupUserInput"];function pt(e,s){if(1&e&&(t.TgZ(0,"option",53),t._uU(1),t.qZA()),2&e){const n=s.$implicit,i=t.oxw(2);t.Q6J("value",n.id)("selected",n.id==i.user.roleId),t.xp6(1),t.hij(" ",n.name," ")}}function gt(e,s){if(1&e&&(t.TgZ(0,"select",51)(1,"option",52),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,pt,2,3,"option",30),t.qZA()),2&e){const n=t.oxw();t.uIk("data-user-id",n.user.id),t.xp6(2),t.hij("",t.lcZ(3,3,"modules.admin.role.common.notSet")," "),t.xp6(2),t.Q6J("ngForOf",n.roles)}}function ht(e,s){if(1&e&&(t.TgZ(0,"option",53),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=s.$implicit,i=t.oxw();t.Q6J("value",n)("selected",i.user.status==n),t.xp6(1),t.Oqu(t.lcZ(2,3,"modules.admin.user.common.status"+n))}}function _t(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td",55),t._uU(3),t.qZA(),t.TgZ(4,"td",55)(5,"mat-slide-toggle",56),t.NdJ("change",function(o){const r=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.toggle(o,r))}),t.qZA()(),t.TgZ(6,"td")(7,"span"),t._uU(8),t.qZA(),t.TgZ(9,"ul",57)(10,"li",58),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"li",58),t._uU(14),t.ALo(15,"translate"),t.qZA()()(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA()(),t.BQk()}if(2&e){const n=s.$implicit,i=s.index,o=t.oxw(2);t.xp6(3),t.Oqu(i+1+o.pageIndex*o.pageSize),t.xp6(2),t.Q6J("checked",!!n.isAllow),t.xp6(3),t.Oqu(n.name),t.xp6(3),t.AsE("",t.lcZ(12,10,"modules.admin.route.common.controller"),": ",n.controller,""),t.xp6(3),t.AsE("",t.lcZ(15,12,"modules.admin.route.common.middleware"),": ",n.middleware.join(", "),""),t.xp6(3),t.AsE("",n.vendor," / ",n.package,""),t.xp6(2),t.Oqu(n.uri)}}function ft(e,s){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,_t,20,14,"ng-container",54),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.aclAll)}}function xt(e,s){1&e&&(t.TgZ(0,"div",59)(1,"div",60),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"common.dataNotFound")))}function At(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"td",55),t._uU(2),t.qZA(),t.TgZ(3,"td",55)(4,"mat-slide-toggle",56),t.NdJ("change",function(o){t.CHM(n);const a=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.toggle(o,a))}),t.qZA()(),t.TgZ(5,"td")(6,"span"),t._uU(7),t.qZA(),t.TgZ(8,"ul",57)(9,"li",58),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",58),t._uU(13),t.ALo(14,"translate"),t.qZA()()(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA()()}if(2&e){const n=t.oxw(),i=n.index,o=n.$implicit,a=t.oxw(2);t.xp6(2),t.Oqu(i+1+a.pageIndex*a.pageSize),t.xp6(2),t.Q6J("checked",!!o.isAllow),t.xp6(3),t.Oqu(o.name),t.xp6(3),t.AsE("",t.lcZ(11,10,"modules.admin.route.common.controller"),": ",o.controller,""),t.xp6(3),t.AsE("",t.lcZ(14,12,"modules.admin.route.common.middleware"),": ",o.middleware.join(", "),""),t.xp6(3),t.AsE("",o.vendor," / ",o.package,""),t.xp6(2),t.Oqu(o.uri)}}function Zt(e,s){if(1&e&&(t.ynx(0),t.YNc(1,At,19,14,"tr",44),t.BQk()),2&e){const n=s.$implicit;t.xp6(1),t.Q6J("ngIf",!0===n.isAllow)}}function vt(e,s){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,Zt,2,1,"ng-container",54),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.aclAll)}}function bt(e,s){1&e&&(t.TgZ(0,"div",59)(1,"div",60),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"common.dataNotFound")))}function wt(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"td",55),t._uU(2),t.qZA(),t.TgZ(3,"td",55)(4,"mat-slide-toggle",56),t.NdJ("change",function(o){t.CHM(n);const a=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.toggle(o,a))}),t.qZA()(),t.TgZ(5,"td")(6,"span"),t._uU(7),t.qZA(),t.TgZ(8,"ul",57)(9,"li",58),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",58),t._uU(13),t.ALo(14,"translate"),t.qZA()()(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA()()}if(2&e){const n=t.oxw(),i=n.index,o=n.$implicit,a=t.oxw(2);t.xp6(2),t.Oqu(i+1+a.pageIndex*a.pageSize),t.xp6(2),t.Q6J("checked",!!o.isAllow),t.xp6(3),t.Oqu(o.name),t.xp6(3),t.AsE("",t.lcZ(11,10,"modules.admin.route.common.controller"),": ",o.controller,""),t.xp6(3),t.AsE("",t.lcZ(14,12,"modules.admin.route.common.middleware"),": ",o.middleware.join(", "),""),t.xp6(3),t.AsE("",o.vendor," / ",o.package,""),t.xp6(2),t.Oqu(o.uri)}}function Tt(e,s){if(1&e&&(t.ynx(0),t.YNc(1,wt,19,14,"tr",44),t.BQk()),2&e){const n=s.$implicit;t.xp6(1),t.Q6J("ngIf",!1===n.isAllow)}}function Ct(e,s){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,Tt,2,1,"ng-container",54),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.aclAll)}}function Ut(e,s){1&e&&(t.TgZ(0,"div",59)(1,"div",60),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"common.dataNotFound")))}function qt(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",61)(1,"button",62),t._uU(2),t.ALo(3,"translate"),t._UZ(4,"i",16),t.qZA(),t.TgZ(5,"button",63),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.saveUserInfo())}),t._uU(6),t.ALo(7,"translate"),t._UZ(8,"i",64),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,3,"common.button.cancel")," "),t.xp6(3),t.Q6J("disabled",n.checkFormInvalid()),t.xp6(1),t.hij("",t.lcZ(7,5,"common.button.save")," ")}}const yt=function(e){return{username:e}},Y=function(e){return{"active show fw-bold":e}},F=function(e){return{"active show":e}};let Lt=(()=>{var e;class s extends C.H{constructor(i,o,a,r,l,d,h,p){super(a,r,l),this.data=i,this.dialogRef=o,this.authenticationService=a,this.activatedRoute=r,this.translate=l,this.permissionService=d,this.formBuilder=h,this.userService=p,this.objectType="user",this.title="User Permission",this.user=new rt.T,this.loadingState=!1,this.acl=[],this.aclAll=[],this.aclAllow=[],this.aclDeny=[],this.domains=[],this.pageIndex=0,this.pageSize=50,this.length=0,this.statuses=[],this.visible=!0,this.domainCtrl=new c.NI,this.addOnBlur=!1,this.separatorKeysCodes=[J.K5,J.OC],this.packages=[],this.package="",this.tabCurrent="permission-tab-role-info",this.isShowPassword=!1,this.listAppsOfUser=[],this.dataAppIds=[],this.groupUserExist=[],this.groupUserSelected=[],this.permissionSelected=[],this.focusGroupUser=!1,this.appPermission=[],this.displayGroupUser=!1,this.preventBlurFlag=!1,this.appList=[],o.disableClose=!0,this.dialogRef.keydownEvents().subscribe(_=>{"Escape"===_.key&&this.dialogRef.close()}),this.domains=[],this.roles=i.roles,this.user=JSON.parse(JSON.stringify(i.user)),this.statuses=i.statuses,this.getData()}ngOnInit(){this.createFormUser(),this.initSelect2()}ngAfterViewInit(){}createFormUser(){this.userForm=this.formBuilder.group({password:["",[c.kI.pattern(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{6,30}$/)]],confirmPassword:[""],mobile:["",[c.kI.pattern(/(84|0[3|5|7|8|9])+([0-9]{8})\b/g)]]},{validator:B.MatchPassword})}initSelect2(){setTimeout(()=>{$(".user-update-role").select2({minimumResultsForSearch:1/0,width:"300px"}).on("select2:select",i=>{this.user.roleId=parseInt(i.params.data.id),this.user.roleId!==v.N.roles.superAdmin&&this.user.roleId!==v.N.roles.admin&&this.user.roleId!==v.N.roles.dmpAdmin&&-1!==this.dataAppIds.indexOf(-1)&&($(".notify-group-select-apps").empty(),this.dataAppIds=[],this.listAppsOfUser=[])}),$(".user-update-statuses").select2({minimumResultsForSearch:1/0,width:"300px"}).on("select2:select",i=>{this.user.status=parseInt(i.params.data.id)})},100)}selected(i){this.domains=[],this.domains.push(i.option.value),this.domainInput.nativeElement.value="",this.domainCtrl.setValue(null)}checkFormInvalid(){return this.userForm.invalid}saveUserInfo(){if(!this.checkFormInvalid()){const i=this.environment.rsa.isActive||!1;if(this.userForm.value.password&&this.userForm.invalid)return;const o=this.userForm.value.password,a=this.userForm.value.confirmPassword;this.loadingState=!0;const r=JSON.parse(JSON.stringify(this.user));r.apps=this.dataAppIds,r.mobile=this.userForm.value.mobile,r.telegramChatId=this.userForm.value.telegramId,this.userService.update(r,"",o,a,i).subscribe(l=>{if(this.loadingState=!1,1===l.status)return this.getData(),this.dialogRef.close(!0),AppNoty.success([this.translate.instant("common.notify.success.message")]),void(this.groupUserSelected=[]);AppNoty.error(this.translate.instant("common.notify.error.message"))})}}getData(){this.permissionService.details(this.objectType,this.user.id).subscribe(i=>{this.acl=i.data.routes.all.length>0?i.data.routes.all:[],this.aclAll=this.acl,this.aclAllow=i.data.routes.allow.length>0?i.data.routes.allow:[],this.aclDeny=i.data.routes.deny.length>0?i.data.routes.deny:[],this.length=i.count,this.domains=i.data.domains,this.packages=i.data.packages})}filterRoutes(i){this.aclAll=this.acl.filter(o=>{const a=this.keyword.nativeElement.value.trim();return!(!(""===a||a&&(o.name.toLowerCase().indexOf(a.toLowerCase())>=0||o.uri.toLowerCase().indexOf(a.toLowerCase())>=0))&&""!==a||""!==this.package&&(!this.package||this.package!==o.vendor+" / "+o.package))})}toggle(i,o){this.loadingState=!0,this.permissionService.set(this.objectType,this.user.id,o,i.checked).subscribe(a=>{if(this.loadingState=!1,1!==a.status)AppNoty.error(this.translate.instant("common.notify.error.message"));else{if(o.isAllow=a?.data?.allow,o.isAllow){this.aclAllow.push(o);const r=this.aclDeny.indexOf(o);this.aclDeny.splice(r,1)}else{this.aclDeny.push(o);const r=this.aclAllow.indexOf(o);this.aclAllow.splice(r,1)}AppNoty.success([this.translate.instant("common.notify.success.message")])}})}preventBlur(i){i.preventDefault()}}return(e=s).\u0275fac=function(i){return new(i||e)(t.Y36(f.WI),t.Y36(f.so),t.Y36(T.$),t.Y36(Z.gz),t.Y36(x.sK),t.Y36(X),t.Y36(c.qu),t.Y36(O.t))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-permission"]],viewQuery:function(i,o){if(1&i&&(t.Gf(ct,5),t.Gf(dt,5),t.Gf(mt,5),t.Gf(ut,5)),2&i){let a;t.iGM(a=t.CRH())&&(o.domainInput=a.first),t.iGM(a=t.CRH())&&(o.matAutocomplete=a.first),t.iGM(a=t.CRH())&&(o.keyword=a.first),t.iGM(a=t.CRH())&&(o.groupUserInput=a.first)}},features:[t.qOj],decls:146,vars:135,consts:[[1,"dialog-header","pt-2","pb-2"],[1,"font-weight-bold","m-0","ms-1"],[1,"fa-solid","fa-users","mr-2"],["mat-dialog-close","",1,"icon-close-dialog"],[1,"ph","ph-x"],[1,"notify-user-permission"],[1,"col-xl-12","pt-2"],[1,"card-body","px-0","pb-0"],[1,"nav","nav-tabs","mb-0"],[1,"nav-item","ms-2"],["data-toggle","tab",1,"nav-link","pt-2","ps-3","pe-3",3,"ngClass","click"],[1,"icon-info22"],[1,"mi-menu"],["data-toggle","tab",1,"nav-link","pt-2","ps-3","pe-3","text-success",3,"ngClass","click"],[1,"ph-check","ms-1"],["data-toggle","tab",1,"nav-link","pt-2","ps-3","pe-3","text-danger",3,"ngClass","click"],[1,"ph-x","ms-1"],[1,"tab-content","p-2"],["id","permission-tab-role-info",1,"tab-pane","fade",3,"ngClass"],[1,"col-xl-12"],[1,""],[3,"formGroup"],[1,"row"],[1,"col-xl-6"],[1,"form-group","mb-2"],[1,"form-label","d-block"],["type","text","disabled","",1,"form-control",3,"value"],[1,"form-group","mb-2","form-select-2"],["name","","class","form-control select select-fixed-single user-update-role",4,"ngIf"],["name","status",1,"form-control","select","select-fixed-single","user-update-statuses"],[3,"value","selected",4,"ngFor","ngForOf"],["id","permission-tab-all-routes",1,"tab-pane","fade",3,"ngClass"],[1,"form","pe-2","ps-2","pb-0"],[1,"col-xl-4","ps-0"],[1,"mi-filter-list","mi-2x","mr-2","pt-1","text-muted"],["type","text",1,"form-control",3,"placeholder","keydown.enter"],["keyword",""],[1,"col-xl-2","p-0"],["type","button",1,"btn","btn-primary","mb-2",3,"click"],[1,"ph","ph-magnifying-glass","ms-1"],[1,"table-responsive","border","border-radius"],["aria-describedby","",1,"table","table-links","table-hover","table-striped"],[1,"text-center","fw-normal","bg-dark","text-white"],[1,"text-left","fw-normal","bg-dark","text-white"],[4,"ngIf"],["class","text-center p-2",4,"ngIf"],["id","permission-tab-allow-routes",1,"tab-pane","fade",3,"ngClass"],[1,"table-responsive","border","border-radius","mt-0"],["id","permission-tab-deny-routes",1,"tab-pane","fade",3,"ngClass"],[1,"text-left","bg-dark","fw-normal","text-white"],["class","dialog-footer pt-2 pb-2",4,"ngIf"],["name","",1,"form-control","select","select-fixed-single","user-update-role"],["value","-1"],[3,"value","selected"],[4,"ngFor","ngForOf"],[1,"text-center"],["color","primary",3,"checked","change"],[1,"list","list-circle","mb-0"],[1,"text-muted","font-size-base"],[1,"text-center","p-2"],[1,"text-muted"],[1,"dialog-footer","pt-2","pb-2"],["mat-dialog-close","",1,"btn","btn-danger","me-2"],[1,"btn","btn-primary",3,"disabled","click"],[1,"ph-floppy-disk","ms-1"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h5",1),t._UZ(2,"i",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",3),t._UZ(6,"i",4),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"ul",8)(11,"li",9)(12,"a",10),t.NdJ("click",function(){return o.tabCurrent="permission-tab-role-info"}),t._UZ(13,"i",11),t._uU(14),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"li",9)(17,"a",10),t.NdJ("click",function(){return o.tabCurrent="permission-tab-all-routes"}),t._UZ(18,"i",12),t._uU(19),t.ALo(20,"translate"),t.qZA()(),t.TgZ(21,"li",9)(22,"a",13),t.NdJ("click",function(){return o.tabCurrent="permission-tab-allow-routes"}),t._uU(23),t.ALo(24,"translate"),t._UZ(25,"i",14),t.qZA()(),t.TgZ(26,"li",9)(27,"a",15),t.NdJ("click",function(){return o.tabCurrent="permission-tab-deny-routes"}),t._uU(28),t.ALo(29,"translate"),t._UZ(30,"i",16),t.qZA()()(),t.TgZ(31,"div",17)(32,"div",18)(33,"div",19)(34,"div",20)(35,"form",21)(36,"div",22)(37,"div",23)(38,"div",24)(39,"label",25)(40,"strong"),t._uU(41),t.ALo(42,"translate"),t.qZA()(),t._UZ(43,"input",26),t.qZA(),t.TgZ(44,"div",24)(45,"label",25)(46,"strong"),t._uU(47),t.ALo(48,"translate"),t.qZA()(),t._UZ(49,"input",26),t.qZA()(),t.TgZ(50,"div",23)(51,"div",27)(52,"label",25)(53,"strong"),t._uU(54),t.ALo(55,"translate"),t.qZA()(),t.YNc(56,gt,5,5,"select",28),t.qZA(),t.TgZ(57,"div",27)(58,"label",25)(59,"strong"),t._uU(60),t.ALo(61,"translate"),t.qZA()(),t.TgZ(62,"div")(63,"select",29),t.YNc(64,ht,3,5,"option",30),t.qZA()()()()()()()()(),t.TgZ(65,"div",31)(66,"div",32)(67,"div",22)(68,"div",33)(69,"div",24)(70,"div"),t._UZ(71,"i",34),t.TgZ(72,"input",35,36),t.NdJ("keydown.enter",function(r){return o.filterRoutes(r)}),t.ALo(74,"translate"),t.qZA()()()(),t.TgZ(75,"div",37)(76,"button",38),t.NdJ("click",function(r){return o.filterRoutes(r)}),t._uU(77),t.ALo(78,"translate"),t._UZ(79,"i",39),t.qZA()()()(),t.TgZ(80,"div",40)(81,"table",41)(82,"thead")(83,"tr")(84,"th",42),t._uU(85),t.ALo(86,"translate"),t.qZA(),t.TgZ(87,"th",42),t._uU(88),t.ALo(89,"translate"),t.qZA(),t.TgZ(90,"th",43),t._uU(91),t.ALo(92,"translate"),t.qZA(),t.TgZ(93,"th",43),t._uU(94),t.ALo(95,"translate"),t.qZA(),t.TgZ(96,"th",43),t._uU(97),t.ALo(98,"translate"),t.qZA()()(),t.YNc(99,ft,2,1,"tbody",44),t.qZA()(),t.YNc(100,xt,4,3,"div",45),t.qZA(),t.TgZ(101,"div",46)(102,"div",47)(103,"table",41)(104,"thead")(105,"tr")(106,"th",42),t._uU(107),t.ALo(108,"translate"),t.qZA(),t.TgZ(109,"th",42),t._uU(110),t.ALo(111,"translate"),t.qZA(),t.TgZ(112,"th",43),t._uU(113),t.ALo(114,"translate"),t.qZA(),t.TgZ(115,"th",43),t._uU(116),t.ALo(117,"translate"),t.qZA(),t.TgZ(118,"th",43),t._uU(119),t.ALo(120,"translate"),t.qZA()()(),t.YNc(121,vt,2,1,"tbody",44),t.qZA()(),t.YNc(122,bt,4,3,"div",45),t.qZA(),t.TgZ(123,"div",48)(124,"div",47)(125,"table",41)(126,"thead")(127,"tr")(128,"th",42),t._uU(129),t.ALo(130,"translate"),t.qZA(),t.TgZ(131,"th",42),t._uU(132),t.ALo(133,"translate"),t.qZA(),t.TgZ(134,"th",49),t._uU(135),t.ALo(136,"translate"),t.qZA(),t.TgZ(137,"th",43),t._uU(138),t.ALo(139,"translate"),t.qZA(),t.TgZ(140,"th",43),t._uU(141),t.ALo(142,"translate"),t.qZA()()(),t.YNc(143,Ct,2,1,"tbody",44),t.qZA()(),t.YNc(144,Ut,4,3,"div",45),t.qZA()()()()(),t.YNc(145,qt,9,7,"div",50)),2&i&&(t.xp6(3),t.hij(" ",t.xi3(4,64,"modules.admin.permission.common.assignToUser",t.VKq(117,yt,o.user.username||o.user.email))," "),t.xp6(9),t.Q6J("ngClass",t.VKq(119,Y,"permission-tab-role-info"==o.tabCurrent)),t.xp6(2),t.hij(" ",t.lcZ(15,67,"modules.admin.permission.common.userInfo")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(121,Y,"permission-tab-all-routes"==o.tabCurrent)),t.xp6(2),t.hij(" ",t.lcZ(20,69,"modules.admin.permission.common.allRoutes"),""),t.xp6(3),t.Q6J("ngClass",t.VKq(123,Y,"permission-tab-allow-routes"==o.tabCurrent)),t.xp6(1),t.hij("",t.lcZ(24,71,"modules.admin.permission.common.allowRoutes")," "),t.xp6(4),t.Q6J("ngClass",t.VKq(125,Y,"permission-tab-deny-routes"==o.tabCurrent)),t.xp6(1),t.hij("",t.lcZ(29,73,"modules.admin.permission.common.denyRoutes")," "),t.xp6(4),t.Q6J("ngClass",t.VKq(127,F,"permission-tab-role-info"==o.tabCurrent)),t.xp6(3),t.Q6J("formGroup",o.userForm),t.xp6(6),t.Oqu(t.lcZ(42,75,"modules.admin.user.common.email")),t.xp6(2),t.Q6J("value",o.user.email),t.xp6(4),t.Oqu(t.lcZ(48,77,"modules.admin.user.common.fullName")),t.xp6(2),t.Q6J("value",o.user.fullName),t.xp6(5),t.Oqu(t.lcZ(55,79,"modules.admin.user.common.role")),t.xp6(2),t.Q6J("ngIf",o.roles),t.xp6(4),t.Oqu(t.lcZ(61,81,"modules.admin.user.common.status")),t.xp6(4),t.Q6J("ngForOf",o.statuses),t.xp6(1),t.Q6J("ngClass",t.VKq(129,F,"permission-tab-all-routes"==o.tabCurrent)),t.xp6(7),t.s9C("placeholder",t.lcZ(74,83,"common.search.placeHolder")),t.xp6(5),t.hij("",t.lcZ(78,85,"common.button.search")," "),t.xp6(7),t.Udp("width",30,"px"),t.xp6(1),t.Oqu(t.lcZ(86,87,"common.sequence")),t.xp6(2),t.Udp("width",120,"px"),t.xp6(1),t.Oqu(t.lcZ(89,89,"modules.admin.route.common.allow")),t.xp6(3),t.Oqu(t.lcZ(92,91,"modules.admin.route.common.name")),t.xp6(2),t.Udp("width",100,"px"),t.xp6(1),t.Oqu(t.lcZ(95,93,"modules.admin.route.common.package")),t.xp6(3),t.Oqu(t.lcZ(98,95,"modules.admin.route.common.uri")),t.xp6(2),t.Q6J("ngIf",o.aclAll),t.xp6(1),t.Q6J("ngIf",0==o.aclAll.length),t.xp6(1),t.Q6J("ngClass",t.VKq(131,F,"permission-tab-allow-routes"==o.tabCurrent)),t.xp6(5),t.Udp("width",30,"px"),t.xp6(1),t.Oqu(t.lcZ(108,97,"common.sequence")),t.xp6(2),t.Udp("width",120,"px"),t.xp6(1),t.Oqu(t.lcZ(111,99,"modules.admin.route.common.allow")),t.xp6(3),t.Oqu(t.lcZ(114,101,"modules.admin.route.common.name")),t.xp6(2),t.Udp("width",200,"px"),t.xp6(1),t.Oqu(t.lcZ(117,103,"modules.admin.route.common.package")),t.xp6(3),t.Oqu(t.lcZ(120,105,"modules.admin.route.common.uri")),t.xp6(2),t.Q6J("ngIf",o.aclAll),t.xp6(1),t.Q6J("ngIf",0==o.aclAllow.length),t.xp6(1),t.Q6J("ngClass",t.VKq(133,F,"permission-tab-deny-routes"==o.tabCurrent)),t.xp6(5),t.Udp("width",30,"px"),t.xp6(1),t.Oqu(t.lcZ(130,107,"common.sequence")),t.xp6(2),t.Udp("width",120,"px"),t.xp6(1),t.Oqu(t.lcZ(133,109,"modules.admin.route.common.allow")),t.xp6(3),t.Oqu(t.lcZ(136,111,"modules.admin.route.common.name")),t.xp6(2),t.Udp("width",200,"px"),t.xp6(1),t.Oqu(t.lcZ(139,113,"modules.admin.route.common.package")),t.xp6(3),t.Oqu(t.lcZ(142,115,"modules.admin.route.common.uri")),t.xp6(2),t.Q6J("ngIf",o.aclAll),t.xp6(1),t.Q6J("ngIf",0==o.aclDeny.length),t.xp6(1),t.Q6J("ngIf","permission-tab-role-info"==o.tabCurrent))},dependencies:[g.mk,g.sg,g.O5,c._Y,c.YN,c.Kr,c.JL,W.Rr,f.ZT,c.sg,x.X$],styles:['@charset "UTF-8";  .option-group-user:hover{background-color:#f3f4f6}  .group-user-select2 .select2-results__options--nested{display:none}  .group-user-select2 .accordion-body .select2-results__options--nested{display:block!important}  .group-user-select2 .select2-results__group{padding:0}  .mat-accordion .mat-expansion-panel{box-shadow:none}  .mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:0!important;border-top-left-radius:0!important}  .mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:0!important;border-bottom-left-radius:0!important}  .notify-user-permission input.ng-invalid,   .notify-user-permission textarea.ng-invalid{border-color:#d1d5db!important}  .notify-user-permission input.ng-invalid-custom,   .notify-user-permission textarea.ng-invalid-custom{border-color:#ef4444!important}  .notify-user-permission .user-chip-list{background-color:#fff}  .notify-user-permission .user-chip-list .mdc-text-field--filled{height:34px!important}  .notify-user-permission .user-chip-list .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:none}  .notify-user-permission .user-chip-list .mat-mdc-form-field-infix{padding-top:0!important;padding-bottom:0!important}  .notify-user-permission .group-user-list{border:1px #D1D5DB solid;border-top:none;background-color:#fff;box-shadow:0 6px 12px #00000026;list-style-type:none;margin:0;padding:0;border-radius:0 0 .375rem .375rem}  .notify-user-permission [contentEditable=true]:empty:not(:focus):before{content:attr(data-text)}  .notify-user-permission .choice-group-user{list-style-type:none}  .notify-user-permission .choice-group-user li:hover{background-color:#f3f4f6;color:var(--s2-menu-link-hover-color)}  .notify-user-permission .group-user-list{max-height:200px;overflow-y:auto}  .notify-user-permission .group-user-list .mat-expansion-panel-header{height:50px!important}  .notify-user-permission .group-user-list .mat-expansion-panel-header:hover{background-color:#f3f4f6}  .notify-user-permission .dot{height:8px;width:8px;border-radius:50%;vertical-align:middle}  .notify-user-permission .fake-input{color:#6b7280}  .notify-user-permission .fake-input:active{border:1px red solid}  .notify-user-permission .fake-input:focus{border-color:#d1d5db;box-shadow:none!important}  .notify-user-permission .padding-has-el{padding:0}  .notify-user-permission .group-user-selected{list-style-type:none;flex-wrap:wrap;max-height:150px;overflow-y:auto;padding:0 4px 4px}  .notify-user-permission .group-user-selected .group-user-el{background-color:#e5e7eb;color:#1f2937;cursor:default;margin-right:.25rem;margin-top:.25rem;padding:4px .875rem;white-space:normal;word-break:break-all;border-radius:calc(.375rem - 1px);transition:color ease-in-out .15s,background-color ease-in-out .15s;vertical-align:middle}  .notify-user-permission .group-user-selected .group-user-el:hover{background-color:#0c83ff;color:#fff}  .notify-user-permission .padding-fake{border-radius:.375rem .375rem 0 0}  .notify-user-permission .remove-permission-icon{cursor:pointer;font-size:1.25rem;line-height:1;margin-left:.625rem;opacity:.75;transition:opacity ease-in-out .15s}  .notify-user-permission .accordion-custom{--accordion-border-color: none }  .notify-user-permission .mat-form-field-wrapper{background-color:transparent!important;border-bottom:none!important}  .notify-user-permission .icon-suffix{right:12px;top:40px;position:absolute}  .notify-user-permission .input-password{padding-right:30px}@media screen and (max-width: 575px){  .notify-user-permission .status-group-user{display:none}  .notify-user-permission .dot{display:inline-block!important}}@media screen and (max-width: 480px){  .notify-user-permission .form-select-2,   .notify-user-permission .select2-container{width:100%!important}}']}),s})(),kt=(()=>{var e;class s{constructor(){this.lowerCase=!0,this.upperCase=!0,this.numbers=!0,this.symbols=!0,this.dictionary=[],this.chars=["abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPWRSTUVWXYZ","0123456789","!@#$%^&*-"],this.length=15}generate(i){if(!1===this.lowerCase&&!1===this.upperCase&&!1===this.numbers&&!1===this.symbols)return"...";this.length=typeof i<"u"?i:this.length,this.dictionary=[].concat(this.lowerCase?this.chars[0].split(""):[],this.upperCase?this.chars[1].split(""):[],this.numbers?this.chars[2].split(""):[],this.symbols?this.chars[3].split(""):[]);let o="";for(let a=0;a<this.length;a++)o+=a<this.chars.length?this.chars[a].charAt(Math.floor(this.getRandomValue(this.chars[a].length))):this.dictionary[Math.floor(this.getRandomValue(this.dictionary.length))];return o}checkStrength(i){let o=0;const p=[/[a-z]+/.test(i),/[A-Z]+/.test(i),/[0-9]+/.test(i),/[$-/:-?{-~!"^_@`\[\]]/g.test(i)];let _=0;for(const A of p)_+=!0===A?1:0;return o+=2*i.length+(i.length>=10?1:0),o+=10*_,o=i.length<=6?Math.min(o,10):o,o=1===_?Math.min(o,10):o,o=2===_?Math.min(o,20):o,o=3===_?Math.min(o,30):o,o=4===_?Math.min(o,40):o,o}getRandomValue(i){const o=new Uint32Array(1);return window.crypto.getRandomValues(o),Math.floor(o[0]/4294967296*i)}}return(e=s).\u0275fac=function(i){return new(i||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),s})();function It(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.user.validatedErrors.emailRequired")," "))}function Nt(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.user.validatedErrors.emailInvalid")," "))}function St(e,s){if(1&e&&(t.TgZ(0,"div",41),t.YNc(1,It,3,3,"div",42),t.YNc(2,Nt,3,3,"div",42),t.qZA()),2&e){const n=t.oxw();let i,o;t.xp6(1),t.Q6J("ngIf",null==(i=n.userForm.get("email"))||null==i.errors?null:i.errors.required),t.xp6(1),t.Q6J("ngIf",null==(o=n.userForm.get("email"))||null==o.errors?null:o.errors.pattern)}}function Rt(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.user.validatedErrors.firstNameRequired")," "))}function Jt(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.user.validatedErrors.firstNameMinLength")," "))}function Ot(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.user.validatedErrors.firstNameMaxLength")," "))}function Yt(e,s){if(1&e&&(t.TgZ(0,"div",41),t.YNc(1,Rt,3,3,"div",42),t.YNc(2,Jt,3,3,"div",42),t.YNc(3,Ot,3,3,"div",42),t.qZA()),2&e){const n=t.oxw();let i,o,a;t.xp6(1),t.Q6J("ngIf",(null==(i=n.userForm.get("firstName"))||null==i.errors?null:i.errors.required)||(null==(i=n.userForm.get("firstName"))||null==i.errors?null:i.errors.whitespace)),t.xp6(1),t.Q6J("ngIf",null==(o=n.userForm.get("firstName"))||null==o.errors?null:o.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==(a=n.userForm.get("firstName"))||null==a.errors?null:a.errors.maxlength)}}function Ft(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.user.validatedErrors.lastNameRequired")," "))}function Dt(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.user.validatedErrors.lastNameMinLength")," "))}function Qt(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.user.validatedErrors.lastNameMaxLength")," "))}function Pt(e,s){if(1&e&&(t.TgZ(0,"div",41),t.YNc(1,Ft,3,3,"div",42),t.YNc(2,Dt,3,3,"div",42),t.YNc(3,Qt,3,3,"div",42),t.qZA()),2&e){const n=t.oxw();let i,o,a;t.xp6(1),t.Q6J("ngIf",(null==(i=n.userForm.get("lastName"))||null==i.errors?null:i.errors.required)||(null==(i=n.userForm.get("lastName"))||null==i.errors?null:i.errors.whitespace)),t.xp6(1),t.Q6J("ngIf",null==(o=n.userForm.get("lastName"))||null==o.errors?null:o.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==(a=n.userForm.get("lastName"))||null==a.errors?null:a.errors.maxlength)}}function jt(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.user.validatedErrors.phoneInvalid")," "))}function $t(e,s){if(1&e&&(t.TgZ(0,"div",43),t.YNc(1,jt,3,3,"div",42),t.qZA()),2&e){const n=t.oxw();let i;t.xp6(1),t.Q6J("ngIf",null==(i=n.userForm.get("phone"))||null==i.errors?null:i.errors.pattern)}}function Mt(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.user.validatedErrors.passwordRequired")," "))}function zt(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.user.validatedErrors.newPassword.pattern")," "))}function Et(e,s){if(1&e&&(t.TgZ(0,"div",43),t.YNc(1,Mt,3,3,"div",42),t.YNc(2,zt,3,3,"div",42),t.qZA()),2&e){const n=t.oxw();let i,o;t.xp6(1),t.Q6J("ngIf",null==(i=n.userForm.get("password"))||null==i.errors?null:i.errors.required),t.xp6(1),t.Q6J("ngIf",null==(o=n.userForm.get("password"))||null==o.errors?null:o.errors.pattern)}}function Ht(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.user.validatedErrors.passwordRequired")," "))}function Kt(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.user.validatedErrors.passwordMinLength")," "))}function Gt(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.user.validatedErrors.passwordMatch")," "))}function Bt(e,s){if(1&e&&(t.TgZ(0,"div",43),t.YNc(1,Ht,3,3,"div",42),t.YNc(2,Kt,3,3,"div",42),t.YNc(3,Gt,3,3,"div",42),t.qZA()),2&e){const n=t.oxw();let i,o,a;t.xp6(1),t.Q6J("ngIf",null==(i=n.userForm.get("confirmPassword"))||null==i.errors?null:i.errors.required),t.xp6(1),t.Q6J("ngIf",null==(o=n.userForm.get("confirmPassword"))||null==o.errors?null:o.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==(a=n.userForm.get("confirmPassword"))||null==a.errors?null:a.errors.MatchPassword)}}function Vt(e,s){if(1&e&&(t.TgZ(0,"option",46),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij(" ",n.name," ")}}const y=function(e){return{"ng-invalid-custom":e}};function Xt(e,s){if(1&e&&(t.TgZ(0,"select",44),t.YNc(1,Vt,2,2,"option",45),t.qZA()),2&e){const n=t.oxw();let i;t.Q6J("ngClass",t.VKq(2,y,(null==(i=n.userForm.get("role"))?null:i.invalid)&&((null==(i=n.userForm.get("role"))?null:i.dirty)||(null==(i=n.userForm.get("role"))?null:i.touched)))),t.xp6(1),t.Q6J("ngForOf",n.roles)}}function Wt(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.user.validatedErrors.roleRequired")," "))}function te(e,s){if(1&e&&(t.TgZ(0,"div",41),t.YNc(1,Wt,3,3,"div",42),t.qZA()),2&e){const n=t.oxw();let i;t.xp6(1),t.Q6J("ngIf",null==(i=n.userForm.get("role"))||null==i.errors?null:i.errors.required)}}function ee(e,s){if(1&e&&(t.TgZ(0,"option",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=s.$implicit;t.Q6J("value",n)("selected",1===n),t.xp6(1),t.Oqu(t.lcZ(2,3,"modules.admin.user.common.status"+n))}}function oe(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.user.validatedErrors.domainsRequired")," "))}function ie(e,s){if(1&e&&(t.TgZ(0,"div",41),t.YNc(1,oe,3,3,"div",42),t.qZA()),2&e){const n=t.oxw();let i;t.xp6(1),t.Q6J("ngIf",null==(i=n.userForm.get("domains"))||null==i.errors?null:i.errors.required)}}const tt=function(e,s){return{"ph-eye":e,"ph-eye-slash":s}};let ne=(()=>{var e;class s extends C.H{constructor(i,o,a,r,l,d,h,p){super(a,r,l),this.data=i,this.dialogRef=o,this.authenticationService=a,this.activatedRoute=r,this.translate=l,this.formBuilder=d,this.userService=h,this.passwordService=p,this.listAppsOfUser=[],this.dataAppIds=[],this.domains=[],this.loadingState=!1,this.pageIndex=0,this.pageSize=50,this.length=0,this.statuses=[],this.domainIsValid=!0,this.isShowPassword=!1,this.apps=[],o.disableClose=!0,this.apps=this.data.apps,this.dialogRef.keydownEvents().subscribe(_=>{"Escape"===_.key&&this.dialogRef.close()}),this.domains=[],this.roles=i.roles.filter(_=>this.currentUser&&_.id!==this.currentUser.roleId),this.statuses=i.statuses}ngAfterViewInit(){}ngOnInit(){this.createFormUser(),this.initSelect2()}noWhitespaceValidator(i){return 0===(i.value||"").trim().length?{whitespace:!0}:null}createFormUser(){this.userForm=this.formBuilder.group({password:["",[c.kI.required,c.kI.pattern(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{6,30}$/)]],confirmPassword:[""],firstName:["",[c.kI.required,c.kI.minLength(2),c.kI.maxLength(50),this.noWhitespaceValidator]],lastName:["",[c.kI.required,c.kI.minLength(2),c.kI.maxLength(50),this.noWhitespaceValidator]],email:["",[c.kI.required,c.kI.pattern(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],phone:[""],status:[1,[c.kI.required]],roleId:[,[c.kI.required]],domains:["",[c.kI.required]]},{validator:B.MatchPassword})}generatePassword(){const i=this.passwordService.generate(12);this.userForm.controls.password.setValue(i),this.userForm.controls.confirmPassword.setValue(i)}initSelect2(){setTimeout(()=>{$(".user-update-role").select2({minimumResultsForSearch:1/0,width:"100%"}).on("select2:select",a=>{this.userForm.controls.roleId.setValue(a.params.data.id),this.userForm.controls.roleId.value!==v.N.roles.superAdmin&&this.userForm.controls.roleId.value!==v.N.roles.admin&&this.userForm.controls.roleId.value!==v.N.roles.dmpAdmin&&-1!==this.dataAppIds.indexOf(-1)&&($(".notify-group-select-apps").empty(),this.dataAppIds=[],this.listAppsOfUser=[])}),$(".user-update-statuses").select2({minimumResultsForSearch:1/0,width:"100%"}).on("select2:select",a=>{this.userForm.controls.status.setValue(a.params.data.id)});const i=this;let o=[{id:-1,text:this.translate.instant("modules.admin.user.common.selectAllApps"),selected:!1}];for(const a of this.apps)o.push({id:a.id,text:`${a.domain} - #${a.id}`,selected:!1});$(".notify-group-select-apps").select2({data:o,placeholder:this.translate.instant("modules.admin.user.common.selectApps"),language:{inputTooShort:()=>i.translate.instant("modules.admin.user.common.selectApps"),searching:()=>i.translate.instant("common.loading"),noResults:()=>i.translate.instant("common.dataNotFound")},closeOnSelect:!1,escapeMarkup:function(a){return a},minimumResultsForSearch:10,minimumInputLength:0}).on("select2:select",a=>{const r=parseInt(a.params.data.id);-1===r?(o=o.map(l=>({...l,selected:!0})),this.dataAppIds=[r],$(".select2-results__option").attr("aria-selected","true"),$(".notify-group-select-apps").val(this.dataAppIds).trigger("change")):(this.dataAppIds=this.dataAppIds.filter(l=>-1!==l),this.dataAppIds.push(r),this.dataAppIds.length===o.length-1?(this.dataAppIds=[-1],$(".select2-results__option").eq(0).attr("aria-selected","true")):$(".select2-results__option").eq(0).attr("aria-selected","false"),$(".notify-group-select-apps").val(this.dataAppIds).trigger("change")),this.userForm.controls.domains.setValue(this.dataAppIds),this.domainIsValid=this.userForm.controls.domains.valid}).on("select2:unselect",a=>{const r=parseInt(a.params.data.id);if(-1===r)o=o.map(l=>({...l,selected:!1})),$(".notify-group-select-apps").empty().select2({data:o,placeholder:this.translate.instant("modules.admin.user.common.selectApps"),language:{inputTooShort:()=>i.translate.instant("modules.admin.user.common.selectApps"),searching:()=>i.translate.instant("common.loading"),noResults:()=>i.translate.instant("common.dataNotFound")},closeOnSelect:!1,escapeMarkup:function(l){return l},minimumResultsForSearch:10,minimumInputLength:0}),$(".notify-group-select-apps").select2("open"),this.dataAppIds=[],$(".select2-results__option").attr("aria-selected","false");else{$(".select2-results__option").eq(0).attr("aria-selected","false");const l=$(".notify-group-select-apps").val().filter(d=>"-1"!==d);$(".notify-group-select-apps").val(l).trigger("change"),this.dataAppIds=this.dataAppIds.filter(d=>d!=r)}this.userForm.controls.domains.setValue(this.dataAppIds),this.domainIsValid=this.userForm.controls.domains.valid}).on("select2:closing",a=>{this.domainIsValid=this.userForm.controls.domains.valid})},200)}saveUserInfo(){this.userForm.valid&&this.userService.create(this.userForm.value,this.environment.rsa.isActive||!1).subscribe(o=>{if(1===o.status)return AppNoty.success([this.translate.instant("modules.admin.user.notify.createUserSucess")]),void this.dialogRef.close(!0);AppNoty.error([this.translate.instant(o.message?"modules.admin.user.notify."+o.message:"modules.admin.user.notify.createUserFailed")])})}changePhone(i){const o=this.userForm.get("phone");o&&(0===i.target.value.length?o.clearValidators():o.setValidators([c.kI.pattern(/(84|0[3|5|7|8|9])+([0-9]{8})\b/g)]),o.updateValueAndValidity())}}return(e=s).\u0275fac=function(i){return new(i||e)(t.Y36(f.WI),t.Y36(f.so),t.Y36(T.$),t.Y36(Z.gz),t.Y36(x.sK),t.Y36(c.qu),t.Y36(O.t),t.Y36(kt))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin-create-user"]],features:[t.qOj],decls:98,vars:82,consts:[[1,"dialog-header","pt-2","pb-2"],[1,"font-weight-bold","m-0","ms-1"],[1,"fa-solid","fa-users","mr-2"],["mat-dialog-close","",1,"icon-close-dialog"],[1,"ph","ph-x"],[1,"notify-create-user"],[1,"col-xl-12","p-2"],[1,"card-body","px-0","pb-0"],[1,"col-xl-12"],[1,""],[3,"formGroup"],[1,"row"],[1,"col-xl-6"],[1,"form-group","mb-2"],[1,"form-label","d-block"],["type","text","formControlName","email",1,"form-control",3,"ngClass"],["class","validation-invalid-label mt-2",4,"ngIf"],[1,"form-group","mb-2","col-xl-6"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["autocomplete","off","type","text","formControlName","phone",1,"form-control",3,"ngClass","input"],["class","validation-invalid-label mt-1",4,"ngIf"],[1,"form-group","mb-2","position-relative","col-xl-9","col-md-9","style-input-password"],["autocomplete","new-password","formControlName","password",1,"form-control","input-password",3,"ngClass","type"],[1,"ph","cursor-pointer","icon-suffix","r-20",3,"ngClass","click"],[1,"col-xl-3","col-md-3","style-button-password"],[1,"btn","btn-primary","w-100","mt-4",3,"click"],[1,"form-group","mb-2","position-relative"],["formControlName","confirmPassword",1,"form-control","input-password",3,"type","ngClass"],[1,"ph","cursor-pointer","icon-suffix",3,"ngClass","click"],["name","","class","form-control select select-fixed-single user-update-role",3,"ngClass",4,"ngIf"],["name","status",1,"form-control","select","select-fixed-single","user-update-statuses"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"form-group","mb-2",3,"ngClass"],["multiple","",1,"form-control","select","select2-hidden-accessible","notify-group-select-apps"],[1,"dialog-footer","pt-2","pb-2"],["mat-dialog-close","",1,"btn","btn-danger","me-2"],[1,"ph-x","ms-1"],[1,"btn","btn-primary",3,"disabled","click"],[1,"ph-floppy-disk","ms-1"],[1,"validation-invalid-label","mt-2"],[4,"ngIf"],[1,"validation-invalid-label","mt-1"],["name","",1,"form-control","select","select-fixed-single","user-update-role",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"value","selected"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"h5",1),t._UZ(2,"i",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",3),t._UZ(6,"i",4),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"form",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"label",14)(17,"strong"),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t._UZ(20,"input",15),t.YNc(21,St,3,2,"div",16),t.qZA(),t.TgZ(22,"div",11)(23,"div",17)(24,"label",14)(25,"strong"),t._uU(26),t.ALo(27,"translate"),t.qZA()(),t._UZ(28,"input",18),t.YNc(29,Yt,4,3,"div",16),t.qZA(),t.TgZ(30,"div",17)(31,"label",14)(32,"strong"),t._uU(33),t.ALo(34,"translate"),t.qZA()(),t._UZ(35,"input",19),t.YNc(36,Pt,4,3,"div",16),t.qZA()(),t.TgZ(37,"div",13)(38,"label",14)(39,"strong"),t._uU(40),t.ALo(41,"translate"),t.qZA()(),t.TgZ(42,"input",20),t.NdJ("input",function(r){return o.changePhone(r)}),t.qZA(),t.YNc(43,$t,2,1,"div",21),t.qZA(),t.TgZ(44,"div",11)(45,"div",22)(46,"label",14)(47,"strong"),t._uU(48),t.ALo(49,"translate"),t.qZA()(),t._UZ(50,"input",23),t.TgZ(51,"i",24),t.NdJ("click",function(){return o.isShowPassword=!o.isShowPassword}),t.qZA(),t.YNc(52,Et,3,2,"div",21),t.qZA(),t.TgZ(53,"div",25)(54,"button",26),t.NdJ("click",function(){return o.generatePassword()}),t._uU(55),t.ALo(56,"translate"),t.qZA()()(),t.TgZ(57,"div",27)(58,"label",14)(59,"strong"),t._uU(60),t.ALo(61,"translate"),t.qZA()(),t._UZ(62,"input",28),t.TgZ(63,"i",29),t.NdJ("click",function(){return o.isShowPassword=!o.isShowPassword}),t.qZA(),t.YNc(64,Bt,4,3,"div",21),t.qZA()(),t.TgZ(65,"div",12)(66,"div",13)(67,"label",14)(68,"strong"),t._uU(69),t.ALo(70,"translate"),t.qZA()(),t.YNc(71,Xt,2,4,"select",30),t.YNc(72,te,2,1,"div",16),t.qZA(),t.TgZ(73,"div",13)(74,"label",14)(75,"strong"),t._uU(76),t.ALo(77,"translate"),t.qZA()(),t.TgZ(78,"div")(79,"select",31),t.YNc(80,ee,3,5,"option",32),t.qZA()()()(),t.TgZ(81,"div",33)(82,"div",34)(83,"label",14)(84,"strong"),t._uU(85),t.ALo(86,"translate"),t.qZA()(),t._UZ(87,"select",35),t.YNc(88,ie,2,1,"div",16),t.qZA()()()()()()()()(),t.TgZ(89,"div",36)(90,"button",37),t._uU(91),t.ALo(92,"translate"),t._UZ(93,"i",38),t.qZA(),t.TgZ(94,"button",39),t.NdJ("click",function(){return o.saveUserInfo()}),t._uU(95),t.ALo(96,"translate"),t._UZ(97,"i",40),t.qZA()()),2&i){let a,r,l,d,h,p,_,A,U,b,w,L,k;t.xp6(3),t.hij(" ",t.lcZ(4,36,"modules.admin.user.common.createUser")," "),t.xp6(9),t.Q6J("formGroup",o.userForm),t.xp6(6),t.Oqu(t.lcZ(19,38,"modules.admin.user.common.email")),t.xp6(2),t.Q6J("ngClass",t.VKq(62,y,(null==(a=o.userForm.get("email"))?null:a.invalid)&&((null==(a=o.userForm.get("email"))?null:a.dirty)||(null==(a=o.userForm.get("email"))?null:a.touched)))),t.xp6(1),t.Q6J("ngIf",(null==(r=o.userForm.get("email"))?null:r.invalid)&&((null==(r=o.userForm.get("email"))?null:r.dirty)||(null==(r=o.userForm.get("email"))?null:r.touched))),t.xp6(5),t.Oqu(t.lcZ(27,40,"modules.admin.user.common.firstName")),t.xp6(2),t.Q6J("ngClass",t.VKq(64,y,(null==(l=o.userForm.get("firstName"))?null:l.invalid)&&((null==(l=o.userForm.get("firstName"))?null:l.dirty)||(null==(l=o.userForm.get("firstName"))?null:l.touched)))),t.xp6(1),t.Q6J("ngIf",(null==(d=o.userForm.get("firstName"))?null:d.invalid)&&((null==(d=o.userForm.get("firstName"))?null:d.dirty)||(null==(d=o.userForm.get("firstName"))?null:d.touched))),t.xp6(4),t.Oqu(t.lcZ(34,42,"modules.admin.user.common.lastName")),t.xp6(2),t.Q6J("ngClass",t.VKq(66,y,(null==(h=o.userForm.get("lastName"))?null:h.invalid)&&((null==(h=o.userForm.get("lastName"))?null:h.dirty)||(null==(h=o.userForm.get("lastName"))?null:h.touched)))),t.xp6(1),t.Q6J("ngIf",(null==(p=o.userForm.get("lastName"))?null:p.invalid)&&((null==(p=o.userForm.get("lastName"))?null:p.dirty)||(null==(p=o.userForm.get("lastName"))?null:p.touched))),t.xp6(4),t.Oqu(t.lcZ(41,44,"modules.admin.user.common.phone")),t.xp6(2),t.Q6J("ngClass",t.VKq(68,y,null==(_=o.userForm.get("phone"))||null==_.errors?null:_.errors.pattern)),t.xp6(1),t.Q6J("ngIf",null==(A=o.userForm.get("phone"))?null:A.invalid),t.xp6(5),t.Oqu(t.lcZ(49,46,"modules.admin.user.common.password")),t.xp6(2),t.s9C("type",o.isShowPassword?"text":"password"),t.Q6J("ngClass",t.VKq(70,y,(null==(U=o.userForm.get("password"))?null:U.invalid)&&((null==(U=o.userForm.get("password"))?null:U.dirty)||(null==(U=o.userForm.get("password"))?null:U.touched)))),t.xp6(1),t.Q6J("ngClass",t.WLB(72,tt,!o.isShowPassword,o.isShowPassword)),t.xp6(1),t.Q6J("ngIf",(null==(b=o.userForm.get("password"))?null:b.invalid)&&((null==(b=o.userForm.get("password"))?null:b.dirty)||(null==(b=o.userForm.get("password"))?null:b.touched))),t.xp6(3),t.Oqu(t.lcZ(56,48,"modules.admin.user.common.generatePassword")),t.xp6(5),t.Oqu(t.lcZ(61,50,"modules.admin.user.common.confirmPassword")),t.xp6(2),t.s9C("type",o.isShowPassword?"text":"password"),t.Q6J("ngClass",t.VKq(75,y,(null==(w=o.userForm.get("confirmPassword"))?null:w.invalid)&&((null==(w=o.userForm.get("confirmPassword"))?null:w.dirty)||(null==(w=o.userForm.get("confirmPassword"))?null:w.touched)))),t.xp6(1),t.Q6J("ngClass",t.WLB(77,tt,!o.isShowPassword,o.isShowPassword)),t.xp6(1),t.Q6J("ngIf",(null==(L=o.userForm.get("confirmPassword"))?null:L.invalid)&&((null==(L=o.userForm.get("confirmPassword"))?null:L.dirty)||(null==(L=o.userForm.get("confirmPassword"))?null:L.touched))),t.xp6(5),t.Oqu(t.lcZ(70,52,"modules.admin.user.common.role")),t.xp6(2),t.Q6J("ngIf",o.roles),t.xp6(1),t.Q6J("ngIf",(null==(k=o.userForm.get("role"))?null:k.invalid)&&((null==(k=o.userForm.get("role"))?null:k.dirty)||(null==(k=o.userForm.get("role"))?null:k.touched))),t.xp6(4),t.Oqu(t.lcZ(77,54,"modules.admin.user.common.status")),t.xp6(4),t.Q6J("ngForOf",o.statuses),t.xp6(2),t.Q6J("ngClass",t.VKq(80,y,!o.domainIsValid)),t.xp6(3),t.Oqu(t.lcZ(86,56,"modules.admin.user.common.apps")),t.xp6(3),t.Q6J("ngIf",!o.domainIsValid),t.xp6(3),t.hij("",t.lcZ(92,58,"common.button.cancel")," "),t.xp6(3),t.Q6J("disabled",o.userForm.invalid),t.xp6(1),t.hij("",t.lcZ(96,60,"common.button.save")," ")}},dependencies:[g.mk,g.sg,g.O5,c._Y,c.YN,c.Kr,c.Fj,c.JJ,c.JL,f.ZT,c.sg,c.u,x.X$],styles:[".notify-create-user .ng-invalid-custom .select2.select2-container .selection .select2-selection.select2-selection--multiple{border-color:#ef4444!important}  .notify-create-user input.ng-invalid,   .notify-create-user textarea.ng-invalid{border-color:#d1d5db!important}  .notify-create-user input.ng-invalid-custom,   .notify-create-user textarea.ng-invalid-custom{border-color:#ef4444!important}  .notify-create-user .style-input-password{width:calc(100% - 140px)}  .notify-create-user .style-button-password{width:140px}  .notify-create-user .r-20{right:20px!important}  .notify-create-user .icon-suffix{right:12px;top:40px;position:absolute}  .notify-create-user .input-password{padding-right:30px}"]}),s})();var E=u(8345),D=u(710),H=u(660),et=u(4859),ot=u(7392),I=u(266),m=u(671),Q=u(7117);function se(e,s){if(1&e&&(t.TgZ(0,"option",52),t._uU(1),t.qZA()),2&e){const n=s.$implicit,i=t.oxw(2);t.Q6J("value",n.id)("selected",n.id==i.role),t.xp6(1),t.hij("",n.name," ")}}function ae(e,s){if(1&e&&(t.TgZ(0,"select",49)(1,"option",50),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,se,2,3,"option",51),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"modules.admin.user.common.selectAllRole")),t.xp6(2),t.Q6J("ngForOf",n.roles)}}function re(e,s){if(1&e&&(t.TgZ(0,"option",56),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=s.$implicit;t.Q6J("value",n),t.xp6(1),t.hij("",t.lcZ(2,2,"modules.admin.user.common.status"+n)," ")}}function le(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"select",53),t.NdJ("ngModelChange",function(o){t.CHM(n);const a=t.oxw();return t.KtG(a.statusSearch=o)}),t.TgZ(1,"option",54),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,re,3,4,"option",55),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("ngModel",n.statusSearch),t.xp6(2),t.Oqu(t.lcZ(3,3,"modules.admin.user.common.selectAllStatus")),t.xp6(2),t.Q6J("ngForOf",n.statuses)}}function ce(e,s){1&e&&(t.TgZ(0,"th",57),t._uU(1,"# "),t.qZA()),2&e&&t.Udp("width",80,"px")("min-width",80,"px")("max-width",200,"px")}function de(e,s){if(1&e&&(t.TgZ(0,"td",58)(1,"span"),t._uU(2),t.qZA()()),2&e){const n=s.index,i=t.oxw();t.xp6(2),t.Oqu(n+1+(i.pageIndex-1)*i.pageSize)}}function me(e,s){1&e&&(t.TgZ(0,"th",59),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"modules.admin.user.common.username")," "))}const ue=function(e){return{"cursor-pointer":e}};function pe(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"td",60)(1,"div",3),t._UZ(2,"div",61),t.TgZ(3,"div",62)(4,"span",63),t.NdJ("click",function(){const a=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.openRolePermission(a))}),t._uU(5),t.qZA(),t.TgZ(6,"ul",64)(7,"li",65),t._UZ(8,"i",66),t.ALo(9,"translate"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"li",65),t._UZ(13,"i",67),t.ALo(14,"translate"),t._uU(15),t.qZA()()()()()}if(2&e){const n=s.$implicit,i=t.oxw();t.xp6(2),t.Akn("background-image: url("+i.avatarDefaultImgUrl+")"),t.xp6(2),t.Q6J("ngClass",t.VKq(15,ue,1!==n.roleId)),t.xp6(1),t.hij(" ",n.username," "),t.xp6(3),t.s9C("matTooltip",t.lcZ(9,8,"modules.admin.user.common.createdTime")),t.xp6(2),t.hij("",t.xi3(11,10,n.createdAt,"HH:mm dd/MM/YYYY")," "),t.xp6(3),t.s9C("matTooltip",t.lcZ(14,13,"modules.admin.user.common.userId")),t.xp6(2),t.hij("",n.id," ")}}function ge(e,s){1&e&&(t.TgZ(0,"th",59),t._UZ(1,"i",68),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"modules.admin.user.common.email")," "))}function he(e,s){if(1&e&&(t.TgZ(0,"td",60),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.hij(" ",n.email," ")}}function _e(e,s){1&e&&(t.TgZ(0,"th",69),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.Udp("width",150,"px"),t.xp6(1),t.hij("",t.lcZ(2,3,"modules.admin.user.common.status")," "))}function fe(e,s){1&e&&(t.TgZ(0,"span",74),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"modules.admin.user.common.status-1")," "))}function xe(e,s){if(1&e&&(t.TgZ(0,"span",75),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,"modules.admin.user.common.status"+(null==n?null:n.status)))}}function Ae(e,s){if(1&e&&(t.TgZ(0,"span",76),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,"modules.admin.user.common.status"+(null==n?null:n.status)))}}function Ze(e,s){if(1&e&&(t.TgZ(0,"td",70),t.YNc(1,fe,3,3,"span",71),t.YNc(2,xe,3,3,"span",72),t.YNc(3,Ae,3,3,"span",73),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.Q6J("ngIf",-1==(null==n?null:n.status)),t.xp6(1),t.Q6J("ngIf",0==(null==n?null:n.status)),t.xp6(1),t.Q6J("ngIf",1==(null==n?null:n.status))}}function ve(e,s){1&e&&(t.TgZ(0,"th",69),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.Udp("width",230,"px"),t.xp6(1),t.hij("",t.lcZ(2,3,"modules.admin.user.common.role")," "))}function be(e,s){if(1&e&&(t.TgZ(0,"option",52),t._uU(1),t.qZA()),2&e){const n=s.$implicit,i=t.oxw(2).$implicit;t.Q6J("value",n.id)("selected",n.id==i.roleId),t.xp6(1),t.hij(" ",n.name," ")}}function we(e,s){if(1&e&&(t.TgZ(0,"select",79),t.YNc(1,be,2,3,"option",51),t.qZA()),2&e){const n=t.oxw().$implicit,i=t.oxw();t.Q6J("disabled",1===n.roleId),t.uIk("data-user-id",n.id),t.xp6(1),t.Q6J("ngForOf",i.roles)}}function Te(e,s){if(1&e&&(t.TgZ(0,"td",77),t.YNc(1,we,2,3,"select",78),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.roles)}}function Ce(e,s){1&e&&t._UZ(0,"th",69),2&e&&t.Udp("width",90,"px")}function Ue(e,s){1&e&&t._UZ(0,"li",87)}function qe(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"li")(1,"a",84),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2).$implicit,a=t.oxw();return t.KtG(a.openUserSwitch(o))}),t._UZ(2,"i",88),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"modules.admin.role.common.switchUser")," "))}function ye(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",81)(2,"button",82)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"ul",83)(6,"li")(7,"a",84),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.openRolePermission(o))}),t._UZ(8,"i",85),t._uU(9),t.ALo(10,"translate"),t.qZA()(),t.YNc(11,Ue,1,0,"li",86),t.YNc(12,qe,5,3,"li",80),t.qZA()(),t.BQk()}if(2&e){const n=t.oxw().$implicit,i=t.oxw();t.xp6(9),t.hij(" ",t.lcZ(10,3,"modules.admin.role.common.permission")," "),t.xp6(2),t.Q6J("ngIf",i.currentUser&&i.currentUser.userId!==n.id&&1===n.status),t.xp6(1),t.Q6J("ngIf",i.currentUser&&i.currentUser.userId!==n.id&&1===n.status)}}function Le(e,s){if(1&e&&(t.TgZ(0,"td",58),t.YNc(1,ye,13,5,"ng-container",80),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.Q6J("ngIf",1!==n.roleId)}}function ke(e,s){1&e&&t._UZ(0,"tr",89)}function Ie(e,s){1&e&&t._UZ(0,"tr",90)}const Ne=function(e){return{"border-top":e}};function Se(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",91)(1,"app-paginator",92),t.NdJ("page",function(o){t.CHM(n);const a=t.oxw();return t.KtG(a.getPaginator(o))}),t.qZA()()}if(2&e){const n=t.oxw();t.Q6J("ngClass",t.VKq(7,Ne,n.users)),t.xp6(1),t.Tol(0==n.length?"d-none":"rounded-bottom-start rounded-bottom-end"),t.Q6J("pageSizeOptions",n.pageSizeOptions)("pageSize",n.pageSize)("pageIndex",n.pageIndex)("length",n.length)}}function Re(e,s){1&e&&(t.TgZ(0,"div",93),t._UZ(1,"i",94),t.TgZ(2,"div",12),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"modules.admin.user.common.noData")))}const Je=function(){return["/"]};let Oe=(()=>{var e;class s extends C.H{constructor(i,o,a,r,l,d,h,p,_){super(i,a,o),this.authenticationService=i,this.translate=o,this.activatedRoute=a,this.userService=r,this.location=l,this.localStorageService=d,this.dialog=h,this.roleService=p,this.globalsService=_,this.users=[],this.roles=[],this.status=-2,this.role=-1,this.keyword="",this.statusSearch="",this.appSearch=[],this.length=0,this.pageIndex=1,this.pageSize=30,this.checked=!1,this.pageSizeOptions=[20,30,50,100],this.pageEvent=new S.kl,this.loadingState=!1,this.statuses=[-1,0,1],this.locationRef=v.N.baseHref,this.displayedColumns=["sequence","name","email","status","role","action"],this.avatarDefaultImgUrl=this.globalsService.user.avatar.default,this.activatedRoute.queryParams.subscribe(A=>{this.keyword=A.keyword??"",this.statusSearch=A.status??"",this.role=A.role??-1,this.pageSize=A.limit??this.pageSize,this.pageIndex=A.page??this.pageIndex;const U=A.appSearch?A.appSearch.split(","):[];this.appSearch=U.map(b=>{if(void 0!==b&&!isNaN(b))return parseInt(b)}).filter(b=>b)})}ngOnInit(){this.getDataUser(),this._getRoles({})}ngOnDestroy(){this.subscribeUser&&this.subscribeUser.unsubscribe()}getDataUser(i){this.loadingState=!0;const o={limit:this.pageSize};this.statusSearch&&""!==this.statusSearch&&(o.status=this.statusSearch),i?this.pageIndex=1:this.pageIndex>0&&(o.page=this.pageIndex),""!==this.keyword&&(o.keyword=encodeURIComponent(this.keyword)),this.appSearch.length>0&&(o.appSearch=this.appSearch.join(",")),o.role=encodeURIComponent(this.role),this.subscribeUser=this.userService.get(o).subscribe(r=>{this.loadingState=!1,this.users=r.data.length>0?r.data:[],this.length=r.count,setTimeout(()=>{$(".select-fixed-single.user-set-role").select2({minimumResultsForSearch:1/0,width:"100%"}).on("select2:select",l=>{const h=l.params.data.id,p=$(l.params.data.element).parents("select").data("user-id");this.saveUserRole(p,h)}),$(".user-role").select2({minimumResultsForSearch:1/0,width:"100%"}).on("select2:select",l=>{this.role=parseInt(l.params.data.id)}),$(".user-status").select2({minimumResultsForSearch:1/0,width:"100%"}).on("select2:select",l=>{this.statusSearch=l.params.data.id})},100)});const a=[];for(const r in o)a.push(r+"="+o[r]);this.location.replaceState("/"+v.N.administratorPrefix+"/user/search",a.join("&"))}_getRoles(i){this.roleService.get(i).subscribe(o=>{this.roles=o.data.length>0?o.data:[]})}saveUserRole(i,o){this.loadingState=!0,this.userService.setRole(i,o).subscribe(a=>{if(this.loadingState=!1,1===a.status)return this.users.filter(r=>r.id===i).forEach(r=>{r.roleId=Number(o),r.status=a.status??r.status}),void AppNoty.success([this.translate.instant("common.notify.success.message")]);AppNoty.error([this.translate.instant("common.notify.error.message")])})}openUserSwitch(i){this.dialog.open(R.$,{autoFocus:!0,width:"400px",height:"auto",panelClass:"admin-dialog-role-create",data:{}}).afterClosed().subscribe(a=>{a&&(this.loadingState=!0,this.authenticationService.switchUser(i.id).subscribe(r=>{if(1===r.status){this.localStorageService.remove("domain_selected");const l=this.authenticationService.getUserFromLocalStorage();this.authenticationService.setOriginalUserInLocalStorage(l);const d=this.authenticationService.formatUser(r?.data?.user);return this.authenticationService.setUserInLocalStorage(d),void(window.location.href=this.locationRef)}AppNoty.error([r.message])}))})}openRolePermission(i){1!=i.roleId&&this.dialog.open(Lt,{autoFocus:!1,panelClass:"admin-dialog-role-permission",width:"1000px",height:"auto",maxHeight:"80vh",data:{user:i,roles:this.roles,statuses:this.statuses}}).afterClosed().subscribe(a=>{a&&this.getDataUser()})}openCreateUser(){this.dialog.open(ne,{autoFocus:!1,panelClass:"admin-dialog-role-permission",width:"1000px",height:"auto",maxHeight:"80vh",data:{roles:this.roles,statuses:this.statuses}}).afterClosed().subscribe(o=>{o&&this.getDataUser()})}getPaginator(i){this.pageIndex=i.pageIndex,this.pageSize=i.pageSize,this.getDataUser()}}return(e=s).\u0275fac=function(i){return new(i||e)(t.Y36(T.$),t.Y36(x.sK),t.Y36(Z.gz),t.Y36(O.t),t.Y36(g.Ye),t.Y36(E.n),t.Y36(f.uw),t.Y36(D.N),t.Y36(H.d))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-administrator-user-list"]],features:[t.qOj],decls:71,vars:36,consts:[[1,"wp-administrator-user"],[1,"page-header"],[1,"page-header-content","d-lg-flex","flex-lg-wrap","border-bottom"],[1,"d-flex"],[1,"breadcrumb"],[1,"breadcrumb-item","py-2",3,"routerLink"],[1,"ph-house","me-2"],[1,"breadcrumb-item","active","py-2"],[1,"page-header-content","d-lg-flex","flex-lg-wrap"],[1,"page-title","pt-2","pb-0"],[1,"mb-0"],[1,"fw-normal"],[1,"text-muted"],[1,"content","wp-list-user-content"],[1,"card","mb-0"],[1,"card-header","p-2","pb-0"],[1,"row"],[1,"col-xl-12"],[1,"form-group","mb-2","float-start","me-2","search-user"],[1,"input-group"],[1,"input-group-text"],[1,"ph-funnel"],["type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange","keydown.enter"],[1,"form-group","mb-2","float-start","me-2","form-select-2"],["class","form-control select select2-hidden-accessible user-role",4,"ngIf"],["class","form-control select select2-hidden-accessible user-status",3,"ngModel","ngModelChange",4,"ngIf"],[1,"form-group","mb-2","float-start"],[1,"btn","btn-primary",3,"click"],[1,"ph","ph-magnifying-glass","ms-1","icon-small"],[1,"table-responsive"],["mat-table","","aria-describedby","table-users",1,"table","table-sm","table-hover","table-layout-fixed",3,"dataSource"],["table",""],["matColumnDef","sequence"],["mat-header-cell","","class","text-center bg-dark text-white",3,"width","min-width","max-width",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","class","bg-dark text-white",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","status"],["mat-header-cell","","class","bg-dark text-white text-center",3,"width",4,"matHeaderCellDef"],["mat-cell","","class","text-truncate text-center",4,"matCellDef"],["matColumnDef","role"],["mat-cell","","class","text-truncate mw-100 text-center",4,"matCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","rounded-bottom-start rounded-bottom-end d-flex justify-content-end",3,"ngClass",4,"ngIf"],["class","text-center p-2",4,"ngIf"],[1,"form-control","select","select2-hidden-accessible","user-role"],["value","-1"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],[1,"form-control","select","select2-hidden-accessible","user-status",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-header-cell","",1,"text-center","bg-dark","text-white"],["mat-cell","",1,"text-center"],["mat-header-cell","",1,"bg-dark","text-white"],["mat-cell",""],[1,"cover"],[1,"ms-2"],[1,"text-primary",3,"ngClass","click"],[1,"list","list-unstyled","list-inline","mb-0"],[1,"list-inline-item","text-muted","font-size-base"],[1,"ph","ph-calendar-blank",3,"matTooltip"],[1,"ph","ph-user-circle",3,"matTooltip"],[1,"ph","ph-envelope","me-1"],["mat-header-cell","",1,"bg-dark","text-white","text-center"],["mat-cell","",1,"text-truncate","text-center"],["class","badge bg-warning fw-normal",4,"ngIf"],["class","badge bg-danger fw-normal",4,"ngIf"],["class","badge bg-success fw-normal",4,"ngIf"],[1,"badge","bg-warning","fw-normal"],[1,"badge","bg-danger","fw-normal"],[1,"badge","bg-success","fw-normal"],["mat-cell","",1,"text-truncate","mw-100","text-center"],["name","","class","form-control select select-fixed-single user-set-role",3,"disabled",4,"ngIf"],["name","",1,"form-control","select","select-fixed-single","user-set-role",3,"disabled"],[4,"ngIf"],[1,"dropdown"],["mat-icon-button","","data-bs-toggle","dropdown"],[1,"dropdown-menu"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ph","ph-path","me-2"],["class","dropdown-divider",4,"ngIf"],[1,"dropdown-divider"],[1,"ph","ph-arrows-left-right","me-2"],["mat-header-row",""],["mat-row",""],[1,"rounded-bottom-start","rounded-bottom-end","d-flex","justify-content-end",3,"ngClass"],[3,"pageSizeOptions","pageSize","pageIndex","length","page"],[1,"text-center","p-2"],[1,"mi-inbox"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),t._UZ(6,"i",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"span",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"span",7),t._uU(13),t.ALo(14,"translate"),t.qZA()()()(),t.TgZ(15,"div",8)(16,"div",9)(17,"h5",10),t._uU(18),t.ALo(19,"translate"),t.TgZ(20,"span",11),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.TgZ(23,"div",12),t._uU(24),t.ALo(25,"translate"),t.qZA()()()(),t.TgZ(26,"div",13)(27,"div",14)(28,"div",15)(29,"div",16)(30,"div",17)(31,"div",18)(32,"div",19)(33,"span",20),t._UZ(34,"i",21),t.qZA(),t.TgZ(35,"input",22),t.NdJ("ngModelChange",function(r){return o.keyword=r})("keydown.enter",function(){return o.getDataUser(!0)}),t.ALo(36,"translate"),t.qZA()()(),t.TgZ(37,"div",23),t.YNc(38,ae,5,4,"select",24),t.qZA(),t.TgZ(39,"div",23),t.YNc(40,le,5,5,"select",25),t.qZA(),t.TgZ(41,"div",26)(42,"button",27),t.NdJ("click",function(){return o.getDataUser(!0)}),t._uU(43),t.ALo(44,"translate"),t._UZ(45,"i",28),t.qZA()()()()(),t.TgZ(46,"div",29)(47,"table",30,31),t.ynx(49,32),t.YNc(50,ce,2,6,"th",33),t.YNc(51,de,3,1,"td",34),t.BQk(),t.ynx(52,35),t.YNc(53,me,3,3,"th",36),t.YNc(54,pe,16,17,"td",37),t.BQk(),t.ynx(55,38),t.YNc(56,ge,4,3,"th",36),t.YNc(57,he,2,1,"td",37),t.BQk(),t.ynx(58,39),t.YNc(59,_e,3,5,"th",40),t.YNc(60,Ze,4,3,"td",41),t.BQk(),t.ynx(61,42),t.YNc(62,ve,3,5,"th",40),t.YNc(63,Te,2,1,"td",43),t.BQk(),t.ynx(64,44),t.YNc(65,Ce,1,2,"th",40),t.YNc(66,Le,2,1,"td",34),t.BQk(),t.YNc(67,ke,1,0,"tr",45),t.YNc(68,Ie,1,0,"tr",46),t.qZA()(),t.YNc(69,Se,2,9,"div",47),t.YNc(70,Re,5,3,"div",48),t.qZA()()()),2&i&&(t.xp6(5),t.Q6J("routerLink",t.DdM(35,Je)),t.xp6(2),t.hij(" ",t.lcZ(8,19,"breadcrumbs.home"),""),t.xp6(3),t.Oqu(t.lcZ(11,21,"breadcrumbs.admin")),t.xp6(3),t.Oqu(t.lcZ(14,23,"modules.admin.user.breadcrumbs.name")),t.xp6(5),t.hij(" ",t.lcZ(19,25,"modules.admin.user.breadcrumbs.name")," - "),t.xp6(3),t.Oqu(t.lcZ(22,27,"modules.admin.user.breadcrumbs.search")),t.xp6(3),t.Oqu(t.lcZ(25,29,"modules.admin.user.breadcrumbs.searchDescription")),t.xp6(7),t.Udp("width",300,"px"),t.xp6(4),t.s9C("placeholder",t.lcZ(36,31,"modules.admin.user.common.searchKeywordPlaceholder")),t.Q6J("ngModel",o.keyword),t.xp6(3),t.Q6J("ngIf",o.roles),t.xp6(2),t.Q6J("ngIf",o.roles),t.xp6(3),t.hij("",t.lcZ(44,33,"common.button.search")," "),t.xp6(4),t.Q6J("dataSource",o.users),t.xp6(20),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.length),t.xp6(1),t.Q6J("ngIf",0==o.users.length))},dependencies:[g.mk,g.sg,g.O5,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,et.RK,ot.Hw,I.gM,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,Q.J,Z.rH,g.uU,x.X$],styles:['@charset "UTF-8";  .wp-administrator-user .wp-list-user-content .mdc-data-table__cell{overflow:unset!important}  .wp-administrator-user .wp-list-user-content .form-select-2{width:250px!important}  .wp-administrator-user .wp-list-user-content .search-user{width:250px}  .wp-administrator-user .wp-list-user-content .more-item{font-size:13px}  .wp-administrator-user .wp-list-user-content .more-item:hover{color:#0c83ff!important}  .wp-administrator-user .wp-list-user-content .cover{width:40px;height:40px;background-size:cover;background-repeat:no-repeat;background-position:center}  .wp-administrator-user .wp-list-user-content .mat-column-name{width:350px}@media screen and (max-width: 1024px){  .wp-administrator-user .wp-list-user-content .mat-column-name,   .wp-administrator-user .wp-list-user-content .mat-column-email,   .wp-administrator-user .wp-list-user-content .mat-column-apps{width:300px}}@media screen and (max-width: 768px){  .wp-administrator-user .wp-list-user-content .mat-column-name{width:250px}}@media screen and (max-width: 480px){  .wp-administrator-user .wp-list-user-content .mat-column-name,   .wp-administrator-user .wp-list-user-content .mat-column-apps{width:300px}  .wp-administrator-user .wp-list-user-content .form-select-2{width:100%!important}  .wp-administrator-user .wp-list-user-content .search-user{width:100%}}@media screen and (max-width: 320px){  .wp-administrator-user .wp-list-user-content .mat-column-name{width:300px}}@media screen and (max-width: 240px){  .wp-administrator-user .wp-list-user-content .mat-column-name{width:200px}}']}),s})();var it=u(7311),Ye=u(8372),nt=u(9653);function Fe(e,s){1&e&&(t.TgZ(0,"div",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.role.validatedErrors.nameExist")," "))}function De(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.role.validatedErrors.required")," "))}function Qe(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.role.validatedErrors.minLength")," "))}function Pe(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.role.validatedErrors.maxLength")," "))}function je(e,s){if(1&e&&(t.TgZ(0,"div",22),t.YNc(1,De,3,3,"div",23),t.YNc(2,Qe,3,3,"div",23),t.YNc(3,Pe,3,3,"div",23),t.qZA()),2&e){const n=t.oxw();let i,o,a;t.xp6(1),t.Q6J("ngIf",(null==(i=n.formCreateRole.get("name"))||null==i.errors?null:i.errors.required)||(null==(i=n.formCreateRole.get("name"))||null==i.errors?null:i.errors.whitespace)),t.xp6(1),t.Q6J("ngIf",null==(o=n.formCreateRole.get("name"))||null==o.errors?null:o.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==(a=n.formCreateRole.get("name"))||null==a.errors?null:a.errors.maxlength)}}function $e(e,s){if(1&e&&(t.TgZ(0,"option",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=s.$implicit,i=t.oxw();t.Q6J("value",n)("selected",i.role.status==n),t.xp6(1),t.Oqu(t.lcZ(2,3,"modules.admin.role.common.status"+n))}}function Me(e,s){if(1&e&&(t.TgZ(0,"option",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=s.$implicit,i=t.oxw();t.Q6J("value",n)("selected",i.role.permissionLocked==n),t.xp6(1),t.Oqu(t.lcZ(2,3,"modules.admin.role.common.permissionLocked"+n))}}const ze=function(e){return{"ng-invalid-custom":e}};function Ee(e){return 0===(e.value||"").trim().length?{whitespace:!0}:null}let He=(()=>{var e;class s extends C.H{constructor(i,o,a,r,l,d,h,p){super(o,a,l),this.data=i,this.authenticationService=o,this.activatedRoute=a,this.fb=r,this.translate=l,this.dialogRef=d,this.roleService=h,this.store=p,this.loadingState=!1,this.role=new it.y({}),this.statuses=[],this.listPermissionLocked=[],this.onSave=new t.vpe,this.errors={name:!1},d.disableClose=!0,this.dialogRef.keydownEvents().subscribe(_=>{"Escape"===_.key&&this.dialogRef.close()}),this.statuses=i.statuses,this.listPermissionLocked=i.listPermissionLocked,this.role.status=1,this.role.permissionLocked=0,this.formCreateRole=this.fb.group({name:["",[c.kI.required,c.kI.minLength(3),c.kI.maxLength(50),Ee]]}),this.formCreateRole.controls.name.valueChanges.pipe((0,Ye.b)(300)).subscribe(_=>{this.checkNameExist(_)})}ngOnInit(){}ngAfterViewInit(){$(".role-create-statuses").select2({}).on("select2:select",i=>{this.role.status=parseInt(i.params.data.id)}),$(".role-create-permission-locked").select2({}).on("select2:select",i=>{this.role.permissionLocked=parseInt(i.params.data.id)})}checkNameExist(i){this.formCreateRole.invalid||(this.errors.name=!1,this.roleService.checkNameExist(i).subscribe(o=>{o.count>0&&(this.errors.name=!0)}))}saveRoleInfo(){this.formCreateRole.invalid||(this.loadingState=!0,this.role.name=this.formCreateRole.controls.name.value,this.roleService.create(this.role).subscribe(i=>{if(this.loadingState=!1,1===i.status)return this.role=i,AppNoty.success([this.translate.instant("common.notify.createSuccess.message")]),void this.dialogRef.close(!0);AppNoty.success([this.translate.instant("common.notify.error.message")])}))}}return(e=s).\u0275fac=function(i){return new(i||e)(t.Y36(f.WI),t.Y36(T.$),t.Y36(Z.gz),t.Y36(c.qu),t.Y36(x.sK),t.Y36(f.so),t.Y36(D.N),t.Y36(nt.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-create"]],features:[t.qOj],decls:42,vars:30,consts:[[1,"col-xl-12","pt-2","pb-2","dialog-header"],[1,"font-weight-bold","m-0","ms-1"],[1,"fa-solid","fa-users","mr-2"],["mat-dialog-close","",1,"icon-close-dialog"],[1,"ph","ph-x"],[1,"mat-typography","p-2"],[3,"formGroup"],[1,"mb-2"],[1,"form-label"],[1,"form-control-feedback"],["type","text","formControlName","name",1,"form-control",3,"ngClass","placeholder"],["class","validation-invalid-label mt-2",4,"ngIf"],[1,"form-label","d-block"],["data-minimum-results-for-search","Infinity",1,"form-control","select","select2-hidden-accessible","role-create-statuses"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"mb-0"],["data-minimum-results-for-search","Infinity",1,"form-control","select","select2-hidden-accessible","role-create-permission-locked"],[1,"col-xl-12","pt-2","pb-2","dialog-footer"],["mat-dialog-close","",1,"btn","btn-danger","me-2"],[1,"ph-x","ms-1"],[1,"btn","btn-success",3,"disabled","click"],[1,"ph-floppy-disk","ms-1"],[1,"validation-invalid-label","mt-2"],[4,"ngIf"],[3,"value","selected"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"h5",1),t._UZ(2,"i",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",3),t._UZ(6,"i",4),t.qZA()(),t.TgZ(7,"div",5)(8,"form",6)(9,"div",7)(10,"label",8)(11,"strong"),t._uU(12),t.ALo(13,"translate"),t.qZA()(),t.TgZ(14,"div",9),t._UZ(15,"input",10),t.ALo(16,"translate"),t.qZA(),t.YNc(17,Fe,3,3,"div",11),t.YNc(18,je,4,3,"div",11),t.qZA(),t.TgZ(19,"div",7)(20,"label",12)(21,"strong"),t._uU(22),t.ALo(23,"translate"),t.qZA()(),t.TgZ(24,"select",13),t.YNc(25,$e,3,5,"option",14),t.qZA()(),t.TgZ(26,"div",15)(27,"label",12)(28,"strong"),t._uU(29),t.ALo(30,"translate"),t.qZA()(),t.TgZ(31,"select",16),t.YNc(32,Me,3,5,"option",14),t.qZA()()()(),t.TgZ(33,"div",17)(34,"button",18),t._uU(35),t.ALo(36,"translate"),t._UZ(37,"i",19),t.qZA(),t.TgZ(38,"button",20),t.NdJ("click",function(){return o.saveRoleInfo()}),t._uU(39),t.ALo(40,"translate"),t._UZ(41,"i",21),t.qZA()()),2&i){let a,r;t.xp6(3),t.hij(" ",t.lcZ(4,14,"modules.admin.role.common.createRole")," "),t.xp6(5),t.Q6J("formGroup",o.formCreateRole),t.xp6(4),t.Oqu(t.lcZ(13,16,"modules.admin.role.common.name")),t.xp6(3),t.s9C("placeholder",t.lcZ(16,18,"modules.admin.role.common.roleName")),t.Q6J("ngClass",t.VKq(28,ze,(null==(a=o.formCreateRole.get("name"))?null:a.invalid)&&((null==(a=o.formCreateRole.get("name"))?null:a.dirty)||(null==(a=o.formCreateRole.get("name"))?null:a.touched)))),t.xp6(2),t.Q6J("ngIf",o.errors.name),t.xp6(1),t.Q6J("ngIf",(null==(r=o.formCreateRole.get("name"))?null:r.invalid)&&((null==(r=o.formCreateRole.get("name"))?null:r.dirty)||(null==(r=o.formCreateRole.get("name"))?null:r.touched))),t.xp6(4),t.Oqu(t.lcZ(23,20,"modules.admin.role.common.status")),t.xp6(3),t.Q6J("ngForOf",o.statuses),t.xp6(4),t.Oqu(t.lcZ(30,22,"modules.admin.role.common.permissionLocked")),t.xp6(3),t.Q6J("ngForOf",o.listPermissionLocked),t.xp6(3),t.hij("",t.lcZ(36,24,"common.button.cancel")," "),t.xp6(3),t.Q6J("disabled",o.formCreateRole.invalid||o.errors.name),t.xp6(1),t.hij("",t.lcZ(40,26,"common.button.save")," ")}},dependencies:[g.mk,g.sg,g.O5,c._Y,c.YN,c.Kr,c.Fj,c.JJ,c.JL,f.ZT,c.sg,c.u,x.X$],styles:[".admin-dialog-role-create input.ng-invalid,   .admin-dialog-role-create textarea.ng-invalid{border-color:#d1d5db!important}  .admin-dialog-role-create input.ng-invalid-custom,   .admin-dialog-role-create textarea.ng-invalid-custom{border-color:#ef4444!important}"]}),s})();const Ke=["auto"],Ge=["keyword"];function Be(e,s){if(1&e&&(t.TgZ(0,"option",48),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=s.$implicit,i=t.oxw();t.Q6J("value",n)("selected",i.role.status==n),t.xp6(1),t.Oqu(t.lcZ(2,3,"modules.admin.role.common.status"+n))}}function Ve(e,s){if(1&e&&(t.TgZ(0,"option",48),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=s.$implicit,i=t.oxw();t.Q6J("value",n)("selected",i.role.permissionLocked==n),t.xp6(1),t.Oqu(t.lcZ(2,3,"modules.admin.role.common.permissionLocked"+n))}}function Xe(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td",50),t._uU(3),t.qZA(),t.TgZ(4,"td",50)(5,"mat-slide-toggle",51),t.NdJ("change",function(o){const r=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.toggle(o,r))}),t.qZA()(),t.TgZ(6,"td")(7,"span"),t._uU(8),t.qZA(),t.TgZ(9,"ul",52)(10,"li",53),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"li",53),t._uU(14),t.ALo(15,"translate"),t.qZA()()(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA()(),t.BQk()}if(2&e){const n=s.$implicit,i=s.index,o=t.oxw(2);t.xp6(3),t.Oqu(i+1+o.pageIndex*o.pageSize),t.xp6(2),t.Q6J("checked",!!n.isAllow),t.xp6(3),t.Oqu(n.name),t.xp6(3),t.AsE("",t.lcZ(12,10,"modules.admin.route.common.controller"),": ",n.controller,""),t.xp6(3),t.AsE("",t.lcZ(15,12,"modules.admin.route.common.middleware"),": ",n.middleware.join(", "),""),t.xp6(3),t.AsE("",n.vendor," / ",n.package,""),t.xp6(2),t.Oqu(n.uri)}}function We(e,s){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,Xe,20,14,"ng-container",49),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.aclAll)}}function to(e,s){1&e&&(t.TgZ(0,"div",54)(1,"div",55),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"common.dataNotFound")))}function eo(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"td",50),t._uU(2),t.qZA(),t.TgZ(3,"td",50)(4,"mat-slide-toggle",51),t.NdJ("change",function(o){t.CHM(n);const a=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.toggle(o,a))}),t.qZA()(),t.TgZ(5,"td")(6,"span"),t._uU(7),t.qZA(),t.TgZ(8,"ul",52)(9,"li",53)(10,"strong"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"li",53)(15,"strong"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t._uU(18),t.qZA()()(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA()()}if(2&e){const n=t.oxw(),i=n.index,o=n.$implicit,a=t.oxw(2);t.xp6(2),t.Oqu(i+1+a.pageIndex*a.pageSize),t.xp6(2),t.Q6J("checked",!!o.isAllow),t.xp6(3),t.Oqu(o.name),t.xp6(4),t.hij("",t.lcZ(12,10,"modules.admin.route.common.controller"),": "),t.xp6(2),t.Oqu(o.controller),t.xp6(3),t.hij("",t.lcZ(17,12,"modules.admin.route.common.middleware"),": "),t.xp6(2),t.Oqu(o.middleware.join(", ")),t.xp6(2),t.AsE("",o.vendor," / ",o.package,""),t.xp6(2),t.Oqu(o.uri)}}function oo(e,s){if(1&e&&(t.ynx(0),t.YNc(1,eo,23,14,"tr",41),t.BQk()),2&e){const n=s.$implicit;t.xp6(1),t.Q6J("ngIf",!0===n.isAllow)}}function io(e,s){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,oo,2,1,"ng-container",49),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.aclAll)}}function no(e,s){1&e&&(t.TgZ(0,"div",54)(1,"div",55),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"modules.admin.user.common.noData")))}function so(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"td",50),t._uU(2),t.qZA(),t.TgZ(3,"td",50)(4,"mat-slide-toggle",51),t.NdJ("change",function(o){t.CHM(n);const a=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.toggle(o,a))}),t.qZA()(),t.TgZ(5,"td")(6,"span"),t._uU(7),t.qZA(),t.TgZ(8,"ul",52)(9,"li",53)(10,"strong"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"li",53)(15,"strong"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t._uU(18),t.qZA()()(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA()()}if(2&e){const n=t.oxw(),i=n.index,o=n.$implicit,a=t.oxw(2);t.xp6(2),t.Oqu(i+1+a.pageIndex*a.pageSize),t.xp6(2),t.Q6J("checked",!!o.isAllow),t.xp6(3),t.Oqu(o.name),t.xp6(4),t.hij("",t.lcZ(12,10,"modules.admin.route.common.controller"),": "),t.xp6(2),t.Oqu(o.controller),t.xp6(3),t.hij("",t.lcZ(17,12,"modules.admin.route.common.middleware"),": "),t.xp6(2),t.Oqu(o.middleware.join(", ")),t.xp6(2),t.AsE("",o.vendor," / ",o.package,""),t.xp6(2),t.Oqu(o.uri)}}function ao(e,s){if(1&e&&(t.ynx(0),t.YNc(1,so,23,14,"tr",41),t.BQk()),2&e){const n=s.$implicit;t.xp6(1),t.Q6J("ngIf",!1===n.isAllow)}}function ro(e,s){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,ao,2,1,"ng-container",49),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.aclAll)}}function lo(e,s){1&e&&(t.TgZ(0,"div",54)(1,"div",55),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"common.dataNotFound")))}function co(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",56)(1,"button",57),t._uU(2),t.ALo(3,"translate"),t._UZ(4,"i",16),t.qZA(),t.TgZ(5,"button",58),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.saveRoleInfo())}),t._uU(6),t.ALo(7,"translate"),t._UZ(8,"i",59),t.qZA()()}2&e&&(t.xp6(2),t.hij("",t.lcZ(3,2,"common.button.cancel")," "),t.xp6(4),t.hij("",t.lcZ(7,4,"common.button.save")," "))}const mo=function(e){return{roleName:e}},P=function(e){return{"active show fw-bold":e}},j=function(e){return{"active show":e}},uo=function(){return{standalone:!0}};let po=(()=>{var e;class s extends C.H{constructor(i,o,a,r,l,d,h){super(o,a,r),this.data=i,this.authenticationService=o,this.activatedRoute=a,this.translate=r,this.dialogRef=l,this.permissionService=d,this.roleService=h,this.objectType="role",this.title="Role Permission",this.loadingState=!1,this.acl=[],this.aclAll=[],this.aclAllow=[],this.aclDeny=[],this.pageIndex=0,this.pageSize=30,this.length=0,this.role=new it.y({}),this.statuses=[],this.listPermissionLocked=[],this.visible=!0,this.selectable=!0,this.removable=!0,this.separatorKeysCodes=[J.K5,J.OC],this.extraPermissionEditor=void 0,this.packages=[],this.package="",this.tabCurrent="permission-tab-role-info",this.role=i.role,this.statuses=i.statuses,this.listPermissionLocked=i.listPermissionLocked,setTimeout(()=>{$(".select-fixed-single.role-update-statuses").select2({minimumResultsForSearch:1/0,width:"300px"}).on("select2:select",p=>{this.role.status=parseInt(p.params.data.id)}),$(".select-fixed-single.role-update-permission-locked").select2({minimumResultsForSearch:1/0,width:"300px"}).on("select2:select",p=>{this.role.permissionLocked=parseInt(p.params.data.id)})},300),this.getData()}saveRoleInfo(){this.loadingState=!0,this.roleService.update(this.role).subscribe(i=>{this.loadingState=!1,AppNoty.success([this.translate.instant("common.notify.success.message")]),this.dialogRef.close(!0)})}getData(){this.loadingState=!0,this.permissionService.details(this.objectType,this.role.id).subscribe(i=>{this.loadingState=!1,this.acl=i.data.routes.all.length>0?i.data.routes.all:[],this.aclAll=this.acl,this.aclAllow=i.data.routes.allow.length>0?i.data.routes.allow:[],this.aclDeny=i.data.routes.deny.length>0?i.data.routes.deny:[],this.length=i.count,this.packages=i.data.packages,setTimeout(()=>{$(".select-fixed-single.user-packages").select2({minimumResultsForSearch:1/0,width:"100%"}).on("select2:select",o=>{this.package=o.params.data.id})},300)})}filterRoutes(i){this.aclAll=this.acl.filter(o=>{const a=this.keyword.nativeElement.value.trim();return!(!(""===a||a&&(o.name.toLowerCase().indexOf(a.toLowerCase())>=0||o.uri.toLowerCase().indexOf(a.toLowerCase())>=0))&&""!==a||""!==this.package&&(!this.package||this.package!==o.vendor+" / "+o.package))})}toggle(i,o){this.loadingState=!0,this.permissionService.set(this.objectType,this.role.id,o,i.checked).subscribe(a=>{if(this.loadingState=!1,o.isAllow=a.data.allow,o.isAllow){this.aclAllow.push(o);const r=this.aclDeny.indexOf(o);this.aclDeny.splice(r,1)}else{this.aclDeny.push(o);const r=this.aclAllow.indexOf(o);this.aclAllow.splice(r,1)}AppNoty.success([this.translate.instant("common.notify.success.message")])})}}return(e=s).\u0275fac=function(i){return new(i||e)(t.Y36(f.WI),t.Y36(T.$),t.Y36(Z.gz),t.Y36(x.sK),t.Y36(f.so),t.Y36(X),t.Y36(D.N))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-permission"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Ke,5),t.Gf(Ge,5)),2&i){let a;t.iGM(a=t.CRH())&&(o.matAutocomplete=a.first),t.iGM(a=t.CRH())&&(o.keyword=a.first)}},features:[t.qOj],decls:138,vars:133,consts:[[1,"dialog-header","pt-2","pb-2"],[1,"font-weight-bold","m-0","ms-1"],[1,"fa-solid","fa-users","mr-2"],["mat-dialog-close","",1,"icon-close-dialog"],[1,"ph","ph-x"],[1,""],[1,"col-xl-12","pt-2"],[1,"card-body","px-0","pb-0"],[1,"nav","nav-tabs","mb-0"],[1,"nav-item","ms-2"],["data-toggle","tab",1,"nav-link","pt-2","ps-3","pe-3",3,"ngClass","click"],[1,"icon-info22"],[1,"mi-menu"],["data-toggle","tab",1,"nav-link","pt-2","ps-3","pe-3","text-success",3,"ngClass","click"],[1,"ph-check","ms-1"],["data-toggle","tab",1,"nav-link","pt-2","ps-3","pe-3","text-danger",3,"ngClass","click"],[1,"ph-x","ms-1"],[1,"tab-content","p-2"],["id","permission-tab-role-info",1,"tab-pane","fade",3,"ngClass"],[1,"col-xl-4","col-lg-6"],["action","#"],[1,"form-group","mb-2"],[1,"form-label","d-block"],["type","text",1,"form-control",3,"ngModel","ngModelOptions","value","ngModelChange"],["name","status",1,"form-control","select","select-fixed-single","role-update-statuses"],[3,"value","selected",4,"ngFor","ngForOf"],["name","status",1,"form-control","select","select-fixed-single","role-update-permission-locked"],["id","permission-tab-all-routes",1,"tab-pane","fade",3,"ngClass"],[1,"form","pe-2","ps-2","pb-0"],[1,"row"],[1,"col-xl-4","ps-0"],[1,"mi-filter-list","mi-2x","mr-2","pt-1","text-muted"],["type","text",1,"form-control",3,"placeholder","keydown.enter"],["keyword",""],[1,"col-xl-2","p-0"],["type","button",1,"btn","btn-primary","mb-2",3,"click"],[1,"ph","ph-magnifying-glass","ms-1"],[1,"table-responsive","border","border-radius"],["aria-describedby","",1,"table","table-links","table-hover","table-striped"],[1,"text-center","fw-normal","bg-dark","text-white"],[1,"text-left","fw-normal","bg-dark","text-white"],[4,"ngIf"],["class","text-center p-2",4,"ngIf"],["id","permission-tab-allow-routes",1,"tab-pane","fade",3,"ngClass"],[1,"table-responsive","border","border-radius","mt-0"],["id","permission-tab-deny-routes",1,"tab-pane","fade",3,"ngClass"],[1,"text-left","bg-dark","fw-normal","text-white"],["class","dialog-footer pt-2 pb-2",4,"ngIf"],[3,"value","selected"],[4,"ngFor","ngForOf"],[1,"text-center"],["color","primary",3,"checked","change"],[1,"list","list-circle","mb-0"],[1,"text-muted","font-size-base"],[1,"text-center","p-2"],[1,"text-muted"],[1,"dialog-footer","pt-2","pb-2"],["mat-dialog-close","",1,"btn","btn-danger","me-2"],[1,"btn","btn-success",3,"click"],[1,"ph-floppy-disk","ms-1"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h5",1),t._UZ(2,"i",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",3),t._UZ(6,"i",4),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"ul",8)(11,"li",9)(12,"a",10),t.NdJ("click",function(){return o.tabCurrent="permission-tab-role-info"}),t._UZ(13,"i",11),t._uU(14),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"li",9)(17,"a",10),t.NdJ("click",function(){return o.tabCurrent="permission-tab-all-routes"}),t._UZ(18,"i",12),t._uU(19),t.ALo(20,"translate"),t.qZA()(),t.TgZ(21,"li",9)(22,"a",13),t.NdJ("click",function(){return o.tabCurrent="permission-tab-allow-routes"}),t._uU(23),t.ALo(24,"translate"),t._UZ(25,"i",14),t.qZA()(),t.TgZ(26,"li",9)(27,"a",15),t.NdJ("click",function(){return o.tabCurrent="permission-tab-deny-routes"}),t._uU(28),t.ALo(29,"translate"),t._UZ(30,"i",16),t.qZA()()(),t.TgZ(31,"div",17)(32,"div",18)(33,"div",19)(34,"form",20)(35,"div",21)(36,"label",22)(37,"strong"),t._uU(38),t.ALo(39,"translate"),t.qZA()(),t.TgZ(40,"input",23),t.NdJ("ngModelChange",function(r){return o.role.name=r}),t.qZA()(),t.TgZ(41,"div",21)(42,"label",22)(43,"strong"),t._uU(44),t.ALo(45,"translate"),t.qZA()(),t.TgZ(46,"div")(47,"select",24),t.YNc(48,Be,3,5,"option",25),t.qZA()()(),t.TgZ(49,"div",21)(50,"label",22)(51,"strong"),t._uU(52),t.ALo(53,"translate"),t.qZA()(),t.TgZ(54,"div")(55,"select",26),t.YNc(56,Ve,3,5,"option",25),t.qZA()()()()()(),t.TgZ(57,"div",27)(58,"div",28)(59,"div",29)(60,"div",30)(61,"div",21)(62,"div"),t._UZ(63,"i",31),t.TgZ(64,"input",32,33),t.NdJ("keydown.enter",function(r){return o.filterRoutes(r)}),t.ALo(66,"translate"),t.qZA()()()(),t.TgZ(67,"div",34)(68,"button",35),t.NdJ("click",function(r){return o.filterRoutes(r)}),t._uU(69),t.ALo(70,"translate"),t._UZ(71,"i",36),t.qZA()()()(),t.TgZ(72,"div",37)(73,"table",38)(74,"thead")(75,"tr")(76,"th",39),t._uU(77),t.ALo(78,"translate"),t.qZA(),t.TgZ(79,"th",39),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.TgZ(82,"th",40),t._uU(83),t.ALo(84,"translate"),t.qZA(),t.TgZ(85,"th",40),t._uU(86),t.ALo(87,"translate"),t.qZA(),t.TgZ(88,"th",40),t._uU(89),t.ALo(90,"translate"),t.qZA()()(),t.YNc(91,We,2,1,"tbody",41),t.qZA()(),t.YNc(92,to,4,3,"div",42),t.qZA(),t.TgZ(93,"div",43)(94,"div",44)(95,"table",38)(96,"thead")(97,"tr")(98,"th",39),t._uU(99),t.ALo(100,"translate"),t.qZA(),t.TgZ(101,"th",39),t._uU(102),t.ALo(103,"translate"),t.qZA(),t.TgZ(104,"th",40),t._uU(105),t.ALo(106,"translate"),t.qZA(),t.TgZ(107,"th",40),t._uU(108),t.ALo(109,"translate"),t.qZA(),t.TgZ(110,"th",40),t._uU(111),t.ALo(112,"translate"),t.qZA()()(),t.YNc(113,io,2,1,"tbody",41),t.qZA()(),t.YNc(114,no,4,3,"div",42),t.qZA(),t.TgZ(115,"div",45)(116,"div",44)(117,"table",38)(118,"thead")(119,"tr")(120,"th",39),t._uU(121),t.ALo(122,"translate"),t.qZA(),t.TgZ(123,"th",39),t._uU(124),t.ALo(125,"translate"),t.qZA(),t.TgZ(126,"th",46),t._uU(127),t.ALo(128,"translate"),t.qZA(),t.TgZ(129,"th",40),t._uU(130),t.ALo(131,"translate"),t.qZA(),t.TgZ(132,"th",40),t._uU(133),t.ALo(134,"translate"),t.qZA()()(),t.YNc(135,ro,2,1,"tbody",41),t.qZA()(),t.YNc(136,lo,4,3,"div",42),t.qZA()()()()(),t.YNc(137,co,9,6,"div",47)),2&i&&(t.xp6(3),t.hij(" ",t.xi3(4,63,"modules.admin.permission.common.assignToRole",t.VKq(114,mo,o.role.name))," "),t.xp6(9),t.Q6J("ngClass",t.VKq(116,P,"permission-tab-role-info"==o.tabCurrent)),t.xp6(2),t.hij(" ",t.lcZ(15,66,"modules.admin.permission.common.roleInfo")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(118,P,"permission-tab-all-routes"==o.tabCurrent)),t.xp6(2),t.hij(" ",t.lcZ(20,68,"modules.admin.permission.common.allRoutes"),""),t.xp6(3),t.Q6J("ngClass",t.VKq(120,P,"permission-tab-allow-routes"==o.tabCurrent)),t.xp6(1),t.hij("",t.lcZ(24,70,"modules.admin.permission.common.allowRoutes")," "),t.xp6(4),t.Q6J("ngClass",t.VKq(122,P,"permission-tab-deny-routes"==o.tabCurrent)),t.xp6(1),t.hij("",t.lcZ(29,72,"modules.admin.permission.common.denyRoutes")," "),t.xp6(4),t.Q6J("ngClass",t.VKq(124,j,"permission-tab-role-info"==o.tabCurrent)),t.xp6(6),t.Oqu(t.lcZ(39,74,"modules.admin.role.common.name")),t.xp6(2),t.Q6J("ngModel",o.role.name)("ngModelOptions",t.DdM(126,uo))("value",o.role.name),t.xp6(4),t.Oqu(t.lcZ(45,76,"modules.admin.role.common.status")),t.xp6(4),t.Q6J("ngForOf",o.statuses),t.xp6(4),t.Oqu(t.lcZ(53,78,"modules.admin.role.common.permissionLocked")),t.xp6(4),t.Q6J("ngForOf",o.listPermissionLocked),t.xp6(1),t.Q6J("ngClass",t.VKq(127,j,"permission-tab-all-routes"==o.tabCurrent)),t.xp6(7),t.s9C("placeholder",t.lcZ(66,80,"common.search.placeHolder")),t.xp6(5),t.hij("",t.lcZ(70,82,"common.button.search")," "),t.xp6(7),t.Udp("width",30,"px"),t.xp6(1),t.Oqu(t.lcZ(78,84,"common.sequence")),t.xp6(2),t.Udp("width",120,"px"),t.xp6(1),t.Oqu(t.lcZ(81,86,"modules.admin.route.common.allow")),t.xp6(3),t.Oqu(t.lcZ(84,88,"modules.admin.route.common.name")),t.xp6(2),t.Udp("width",200,"px"),t.xp6(1),t.Oqu(t.lcZ(87,90,"modules.admin.route.common.package")),t.xp6(3),t.Oqu(t.lcZ(90,92,"modules.admin.route.common.uri")),t.xp6(2),t.Q6J("ngIf",o.aclAll),t.xp6(1),t.Q6J("ngIf",0==o.aclAll.length),t.xp6(1),t.Q6J("ngClass",t.VKq(129,j,"permission-tab-allow-routes"==o.tabCurrent)),t.xp6(5),t.Udp("width",30,"px"),t.xp6(1),t.Oqu(t.lcZ(100,94,"common.sequence")),t.xp6(2),t.Udp("width",120,"px"),t.xp6(1),t.Oqu(t.lcZ(103,96,"modules.admin.route.common.allow")),t.xp6(3),t.Oqu(t.lcZ(106,98,"modules.admin.route.common.name")),t.xp6(2),t.Udp("width",200,"px"),t.xp6(1),t.Oqu(t.lcZ(109,100,"modules.admin.route.common.package")),t.xp6(3),t.Oqu(t.lcZ(112,102,"modules.admin.route.common.uri")),t.xp6(2),t.Q6J("ngIf",o.aclAll),t.xp6(1),t.Q6J("ngIf",0==o.aclAllow.length),t.xp6(1),t.Q6J("ngClass",t.VKq(131,j,"permission-tab-deny-routes"==o.tabCurrent)),t.xp6(5),t.Udp("width",30,"px"),t.xp6(1),t.Oqu(t.lcZ(122,104,"common.sequence")),t.xp6(2),t.Udp("width",120,"px"),t.xp6(1),t.Oqu(t.lcZ(125,106,"modules.admin.route.common.allow")),t.xp6(3),t.Oqu(t.lcZ(128,108,"modules.admin.route.common.name")),t.xp6(2),t.Udp("width",200,"px"),t.xp6(1),t.Oqu(t.lcZ(131,110,"modules.admin.route.common.package")),t.xp6(3),t.Oqu(t.lcZ(134,112,"modules.admin.route.common.uri")),t.xp6(2),t.Q6J("ngIf",o.aclAll),t.xp6(1),t.Q6J("ngIf",0==o.aclDeny.length),t.xp6(1),t.Q6J("ngIf","permission-tab-role-info"==o.tabCurrent))},dependencies:[g.mk,g.sg,g.O5,c._Y,c.YN,c.Kr,c.Fj,c.JJ,c.JL,c.On,c.F,W.Rr,f.ZT,x.X$],styles:["@media screen and (max-width: 480px){  .admin-dialog-role-permission .select2-container{width:100%!important}}"]}),s})();var K=u(7579);let go=(()=>{var e;class s{constructor(){this.dataPaginate=new K.x,this.dataRecords=new K.x,this.activePagination=new K.x}setDataPaginate(i){this.dataPaginate.next(i)}setDataRecords(i){this.dataRecords.next(i)}resetActivePagination(i){this.activePagination.next(i)}}return(e=s).\u0275fac=function(i){return new(i||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),s})();function ho(e,s){if(1&e&&(t.TgZ(0,"option",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=s.$implicit,i=t.oxw(2);t.Q6J("value",n)("selected",n==i.status),t.xp6(1),t.hij("",t.lcZ(2,3,"modules.admin.user.common.status"+n)," ")}}function _o(e,s){if(1&e&&(t.TgZ(0,"select",46)(1,"option",47),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,ho,3,5,"option",48),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"modules.admin.user.common.selectAllStatus")),t.xp6(2),t.Q6J("ngForOf",n.statuses)}}function fo(e,s){1&e&&(t.TgZ(0,"th",50),t._uU(1,"#"),t.qZA()),2&e&&t.Udp("width",80,"px")("min-width",80,"px")("max-width",200,"px")}function xo(e,s){if(1&e&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.hij(" ",n.id," ")}}function Ao(e,s){1&e&&(t.TgZ(0,"th",52),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"modules.admin.role.common.name")))}function Zo(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"a",56),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.openRolePermission(o))}),t.TgZ(1,"span"),t._uU(2),t.qZA()()}if(2&e){const n=t.oxw().$implicit;t.xp6(2),t.Oqu(n.name)}}function vo(e,s){if(1&e&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.name)}}function bo(e,s){if(1&e&&(t.TgZ(0,"td",53),t.YNc(1,Zo,3,1,"a",54),t.YNc(2,vo,2,1,"ng-template",null,55,t.W1O),t.qZA()),2&e){const n=s.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",0===n.permissionLocked)("ngIfElse",i)}}function wo(e,s){1&e&&(t.TgZ(0,"th",58),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.Udp("width",150,"px"),t.xp6(1),t.Oqu(t.lcZ(2,3,"modules.admin.role.common.status")))}function To(e,s){if(1&e&&(t.TgZ(0,"span",61),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,"modules.admin.role.common.status"+n.status))}}function Co(e,s){if(1&e&&(t.TgZ(0,"span",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,"modules.admin.role.common.status"+n.status))}}function Uo(e,s){if(1&e&&(t.TgZ(0,"td",51),t.YNc(1,To,3,3,"span",59),t.YNc(2,Co,3,3,"span",60),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.Q6J("ngIf",0==n.status),t.xp6(1),t.Q6J("ngIf",1==n.status)}}function qo(e,s){1&e&&t._UZ(0,"th",52),2&e&&t.Udp("width",80,"px")}function yo(e,s){if(1&e){const n=t.EpF();t.ynx(0),t._UZ(1,"li",69),t.TgZ(2,"li")(3,"a",70),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2).$implicit,a=t.oxw();return t.KtG(a.openDialogDeleteRole(o))}),t._UZ(4,"i",71),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.BQk()}2&e&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"common.button.delete"),""))}function Lo(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",64)(2,"button",65)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"ul",66)(6,"li")(7,"a",67),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.openRolePermission(o))}),t._UZ(8,"i",68),t._uU(9),t.ALo(10,"translate"),t.qZA()(),t.YNc(11,yo,7,3,"ng-container",63),t.qZA()(),t.BQk()}if(2&e){const n=t.oxw().$implicit,i=t.oxw();t.xp6(9),t.Oqu(t.lcZ(10,2,"modules.admin.role.common.permission")),t.xp6(2),t.Q6J("ngIf",!i.checkRoleConfig(n.id))}}function ko(e,s){if(1&e&&(t.TgZ(0,"td",53),t.YNc(1,Lo,12,4,"ng-container",63),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.Q6J("ngIf",0==n.permissionLocked)}}function Io(e,s){1&e&&t._UZ(0,"tr",72)}function No(e,s){1&e&&t._UZ(0,"tr",73)}function So(e,s){1&e&&(t.TgZ(0,"div",74),t._UZ(1,"i",75),t.TgZ(2,"div",12),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"common.dataNotFound")))}const Ro=function(){return["/"]},Jo=function(e){return{"page-use-pagination":e}};let Oo=(()=>{var e;class s extends C.H{constructor(i,o,a,r,l,d,h){super(i,o,a),this.authenticationService=i,this.activatedRoute=o,this.translate=a,this.roleService=r,this.administratorPaginationService=l,this.location=d,this.dialog=h,this.roles=[],this.keyword="",this.totalRecord=0,this.pageIndex=1,this.pageSize=20,this.pageSizeOptions=[20,30,50,100],this.pageEvent=new S.kl,this.loadingState=!1,this.statuses=[1,0],this.listPermissionLocked=[1,0],this.displayedColumns=["sequence","name","status","action"],this.activePagination=!0,this.rolesConfig=v.N.roles,this.activatedRoute.queryParams.subscribe(p=>{this.pageSize=p.limit??this.pageSize,this.pageIndex=p.page??this.pageIndex,this.keyword=p.keyword??"",this.status=p.status||void 0})}ngOnInit(){this.getRolesPaginator(),this.getData()}ngAfterViewInit(){$(".role-status").select2({minimumResultsForSearch:1/0,width:"100%"}).on("select2:select",i=>{this.status=parseInt(i.params.data.id)})}ngOnDestroy(){this.subscribeRole.unsubscribe(),this.subscribeDataPagination.unsubscribe(),this.subscribeRole.closed&&this.administratorPaginationService.resetActivePagination(!1)}getRolesPaginator(){this.subscribeDataPagination=this.administratorPaginationService.dataPaginate.subscribe(i=>{i&&(this.pageIndex=i.pageIndex,this.pageSize=i.pageSize,this.getData())})}setDataPagination(i){this.administratorPaginationService.setDataRecords(i)}getData(){this.loadingState=!0;const i={limit:this.pageSize};this.pageIndex>0&&(i.page=this.pageIndex),""!==this.keyword&&(i.keyword=encodeURIComponent(this.keyword)),typeof this.status<"u"&&-1!==this.status&&(i.status=this.status),this.subscribeRole=this.roleService.get(i).subscribe(a=>{this.loadingState=!1,this.roles=a.data||[],this.totalRecord=a.count||0,this.setDataPagination({numberOfRecords:this.roles.length,length:this.totalRecord,pageSizeOptions:this.pageSizeOptions,pageIndex:this.pageIndex,pageSize:this.pageSize,activePagination:this.activePagination})});const o=[];for(const a in i)o.push(a+"="+i[a]);this.location.replaceState("/"+v.N.administratorPrefix+"/role/search",o.join("&"))}openRolePermission(i){this.dialog.open(po,{autoFocus:!1,panelClass:"admin-dialog-role-permission",width:"1600px",height:"auto",maxHeight:"80vh",data:{role:i,statuses:this.statuses,listPermissionLocked:this.listPermissionLocked}}).afterClosed().subscribe(a=>{})}openCreatePermission(){this.dialog.open(He,{autoFocus:!0,width:"400px",height:"auto",panelClass:"admin-dialog-role-create",data:{statuses:this.statuses,listPermissionLocked:this.listPermissionLocked}}).afterClosed().subscribe(o=>{o&&this.getData()})}openDialogDeleteRole(i){if(1===i.permissionLocked)return!1;this.dialog.open(R.$,{width:"400px",autoFocus:!1,disableClose:!1}).afterClosed().subscribe(a=>{a&&this.deleteRole(i)})}deleteRole(i){this.roleService.delete(i).subscribe(o=>{if(o.status)return this.getData(),void AppNoty.success([this.translate.instant("common.notify.success.message")]);AppNoty.error([this.translate.instant("common.notify.error.message")])})}checkRoleConfig(i){return Object.values(this.rolesConfig).includes(i)}}return(e=s).\u0275fac=function(i){return new(i||e)(t.Y36(T.$),t.Y36(Z.gz),t.Y36(x.sK),t.Y36(D.N),t.Y36(go),t.Y36(g.Ye),t.Y36(f.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-administrator-user-list"]],features:[t.qOj],decls:67,vars:38,consts:[[1,"wp-administrator-role"],[1,"page-header"],[1,"page-header-content","d-lg-flex","flex-lg-wrap","border-bottom"],[1,"d-flex"],[1,"breadcrumb"],[1,"breadcrumb-item","py-2",3,"routerLink"],[1,"ph-house","me-2"],[1,"breadcrumb-item","active","py-2"],[1,"page-header-content","d-lg-flex","flex-lg-wrap"],[1,"page-title","pt-2","pb-0"],[1,"mb-0"],[1,"fw-normal"],[1,"text-muted"],[1,"content",3,"ngClass"],[1,"card","mb-0"],[1,"card-header","p-2","pb-0"],[1,"row"],[1,"col-xl-12"],[1,"form-group","mb-2","float-start","search-role","me-2"],[1,"input-group"],[1,"input-group-text"],[1,"ph-funnel"],["type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange","keydown.enter"],[1,"form-group","mb-2","float-start","form-select-2-all-status","me-2"],["class","form-control select select2-hidden-accessible role-status",4,"ngIf"],[1,"form-group","mb-2","float-start"],[1,"btn","btn-primary",3,"click"],[1,"ph","ph-magnifying-glass","ms-1","icon-small"],[1,"form-group","mb-2","float-end"],[1,"ph","ph-plus","ms-1","icon-small"],[1,"table-responsive"],["mat-table","","aria-describedby","table-roles",1,"table","table-sm","table-hover","table-layout-fixed",3,"dataSource"],["table",""],["matColumnDef","sequence"],["mat-header-cell","","class","text-center bg-dark text-white",3,"width","min-width","max-width",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","class","bg-dark text-white",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["mat-header-cell","","class","bg-dark text-white text-center",3,"width",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-cell","","class","bg-dark text-white",3,"width",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","text-center p-2",4,"ngIf"],[1,"form-control","select","select2-hidden-accessible","role-status"],["value","-1"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["mat-header-cell","",1,"text-center","bg-dark","text-white"],["mat-cell","",1,"text-center"],["mat-header-cell","",1,"bg-dark","text-white"],["mat-cell",""],["class","cursor-pointer",3,"click",4,"ngIf","ngIfElse"],["superAdmin",""],[1,"cursor-pointer",3,"click"],[1,"text-danger"],["mat-header-cell","",1,"bg-dark","text-white","text-center"],["class","badge bg-danger fw-normal",4,"ngIf"],["class","badge bg-success fw-normal",4,"ngIf"],[1,"badge","bg-danger","fw-normal"],[1,"badge","bg-success","fw-normal"],[4,"ngIf"],[1,"dropdown"],["mat-icon-button","","data-bs-toggle","dropdown"],[1,"dropdown-menu"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ph","ph-pencil-simple","me-1"],[1,"dropdown-divider"],[1,"dropdown-item","cursor-pointer","text-bg-danger",3,"click"],[1,"ph","ph-trash","me-1"],["mat-header-row",""],["mat-row",""],[1,"text-center","p-2"],[1,"mi-inbox"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),t._UZ(6,"i",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"span",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"span",7),t._uU(13),t.ALo(14,"translate"),t.qZA()()()(),t.TgZ(15,"div",8)(16,"div",9)(17,"h5",10),t._uU(18),t.ALo(19,"translate"),t.TgZ(20,"span",11),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.TgZ(23,"div",12),t._uU(24),t.ALo(25,"translate"),t.qZA()()()(),t.TgZ(26,"div",13)(27,"div",14)(28,"div",15)(29,"div",16)(30,"div",17)(31,"div",18)(32,"div",19)(33,"span",20),t._UZ(34,"i",21),t.qZA(),t.TgZ(35,"input",22),t.NdJ("ngModelChange",function(r){return o.keyword=r})("keydown.enter",function(){return o.getData()}),t.ALo(36,"translate"),t.qZA()()(),t.TgZ(37,"div",23),t.YNc(38,_o,5,4,"select",24),t.qZA(),t.TgZ(39,"div",25)(40,"button",26),t.NdJ("click",function(){return o.getData()}),t._uU(41),t.ALo(42,"translate"),t._UZ(43,"i",27),t.qZA()(),t.TgZ(44,"div",28)(45,"button",26),t.NdJ("click",function(){return o.openCreatePermission()}),t._uU(46),t.ALo(47,"translate"),t._UZ(48,"i",29),t.qZA()()()()(),t.TgZ(49,"div",30)(50,"table",31,32),t.ynx(52,33),t.YNc(53,fo,2,6,"th",34),t.YNc(54,xo,2,1,"td",35),t.BQk(),t.ynx(55,36),t.YNc(56,Ao,3,3,"th",37),t.YNc(57,bo,4,2,"td",38),t.BQk(),t.ynx(58,39),t.YNc(59,wo,3,5,"th",40),t.YNc(60,Uo,3,2,"td",35),t.BQk(),t.ynx(61,41),t.YNc(62,qo,1,2,"th",42),t.YNc(63,ko,2,1,"td",38),t.BQk(),t.YNc(64,Io,1,0,"tr",43),t.YNc(65,No,1,0,"tr",44),t.qZA()(),t.YNc(66,So,5,3,"div",45),t.qZA()()()),2&i&&(t.xp6(5),t.Q6J("routerLink",t.DdM(35,Ro)),t.xp6(2),t.hij(" ",t.lcZ(8,17,"breadcrumbs.home"),""),t.xp6(3),t.Oqu(t.lcZ(11,19,"breadcrumbs.admin")),t.xp6(3),t.Oqu(t.lcZ(14,21,"modules.admin.role.breadcrumbs.name")),t.xp6(5),t.hij(" ",t.lcZ(19,23,"modules.admin.role.breadcrumbs.name")," - "),t.xp6(3),t.Oqu(t.lcZ(22,25,"modules.admin.role.breadcrumbs.search")),t.xp6(3),t.Oqu(t.lcZ(25,27,"modules.admin.role.breadcrumbs.searchDescription")),t.xp6(2),t.Q6J("ngClass",t.VKq(36,Jo,o.activePagination)),t.xp6(9),t.s9C("placeholder",t.lcZ(36,29,"common.placeholder")),t.Q6J("ngModel",o.keyword),t.xp6(3),t.Q6J("ngIf",o.statuses),t.xp6(3),t.hij("",t.lcZ(42,31,"common.button.search")," "),t.xp6(5),t.hij("",t.lcZ(47,33,"modules.admin.role.common.createRole")," "),t.xp6(4),t.Q6J("dataSource",o.roles),t.xp6(14),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",0==o.roles.length))},dependencies:[g.mk,g.sg,g.O5,c.YN,c.Kr,c.Fj,c.JJ,c.On,et.RK,ot.Hw,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,Z.rH,x.X$],styles:['@charset "UTF-8";  .wp-administrator-role .mdc-data-table__cell{overflow:unset!important}  .wp-administrator-role .search-role{width:350px}  .wp-administrator-role .form-select-2-all-status{width:350px!important}@media screen and (max-width: 1024px){  .wp-administrator-role .mat-column-name,   .wp-administrator-role .mat-column-email{width:500px}}@media screen and (max-width: 768px){  .wp-administrator-role .mat-column-name{width:500px}}@media screen and (max-width: 480px){  .wp-administrator-role .mat-column-name{width:300px}  .wp-administrator-role .search-role{width:100%}  .wp-administrator-role .form-select-2-all-status{width:100%!important}}@media screen and (max-width: 320px){  .wp-administrator-role .mat-column-name{width:300px}}@media screen and (max-width: 240px){  .wp-administrator-role .mat-column-name{width:200px}}']}),s})();class Yo{constructor(s){this.id="",this.name="",this.route="",this.uri="",this.vendor="",this.package="",this.controller="",this.methods=[],this.middleware=[],this.wheres=[],s&&(this.id=s.id||null,this.name=s.name||null,this.route=s.route||null,this.uri=s.uri||null,this.vendor=s.vendor||null,this.package=s.package||null,this.methods=s.methods||[],this.controller=s.controller||null,this.middleware=s.middleware||[],this.wheres=s.wheres||null)}}let Fo=(()=>{var e;class s{constructor(i,o){this.http=i,this.backendService=o,this.apiServerPaths=v.N.backendServer.paths}get(i){const o={params:{encryptParam:!0},headers:{Accept:"application/json"}};for(const a in i)o.params[a]=i[a];return this.backendService.get(this.apiServerPaths.administrator.route.list,o,(0,q.U)(a=>{const r=[],l=a.data.routes;if(l&&l.length)for(const d in l)r.push(new Yo(l[d]));return{data:r,count:a.data.count}}))}import(){return this.backendService.get(this.apiServerPaths.administrator.route.import,{params:{encryptParam:!0},headers:{Accept:"application/json"}},(0,q.U)(o=>o))}update(i,o){const a=o;a.encryptBody=!0;const r=this.apiServerPaths.administrator.route.update.replace("{ROUTE_ID}",i.toString());return this.backendService.post(r,a,(0,q.U)(l=>l))}updateRoute(i){return this.backendService.post(this.apiServerPaths.administrator.route.update,{id:i.id,route:i.route},(0,q.U)(a=>a))}}return(e=s).\u0275fac=function(i){return new(i||e)(t.LFG(V.eN),t.LFG(z.v))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),s})();const Do=["inlineEditControlName"],Qo=["inlineEditControlRoute"];function Po(e,s){1&e&&(t.TgZ(0,"th",46),t._uU(1,"#"),t.qZA()),2&e&&t.Udp("width",80,"px")("min-width",80,"px")("max-width",200,"px")}function jo(e,s){if(1&e&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.hij(" ",n.id," ")}}function $o(e,s){1&e&&(t.TgZ(0,"th",48),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"modules.admin.route.common.name")))}function Mo(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"span",52),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.editName(o.route,o))})("focus",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.editName(o.route,o))}),t.ALo(1,"translate"),t._uU(2),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.s9C("matTooltip",t.lcZ(1,2,"common.clickToEdit")),t.xp6(2),t.Oqu(n.name)}}function zo(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",53)(1,"input",54,55),t.NdJ("keypress",function(o){t.CHM(n);const a=t.oxw().$implicit,r=t.oxw();return t.KtG(r.onKeyPressName(o,a))}),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",56),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.editNameId="")}),t._UZ(5,"i",57),t.qZA(),t.TgZ(6,"button",58),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.saveName(o))}),t.TgZ(7,"span"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"i",59),t.qZA()()}if(2&e){const n=t.MAs(2),i=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.s9C("placeholder",t.lcZ(3,6,"modules.admin.route.common.namePlaceHolder")),t.Q6J("required",o.required)("value",i.name)("type","text"),t.xp6(5),t.Q6J("disabled",!n.value),t.xp6(2),t.Oqu(t.lcZ(9,8,"common.button.ok"))}}function Eo(e,s){if(1&e&&(t.TgZ(0,"td",49),t.YNc(1,Mo,3,4,"span",50),t.YNc(2,zo,11,10,"div",51),t.qZA()),2&e){const n=s.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.editNameId!==n.id),t.xp6(1),t.Q6J("ngIf",i.editNameId===n.id)}}function Ho(e,s){1&e&&(t.TgZ(0,"th",48),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.Udp("width",400,"px"),t.xp6(1),t.Oqu(t.lcZ(2,3,"modules.admin.route.common.route")))}function Ko(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"span",52),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.editRoute(o.route,o))})("focus",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.editRoute(o.route,o))}),t.ALo(1,"translate"),t._uU(2),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.s9C("matTooltip",t.lcZ(1,2,"common.clickToEdit")),t.xp6(2),t.Oqu(n.route)}}function Go(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",61)(1,"input",54,62),t.NdJ("keypress",function(o){t.CHM(n);const a=t.oxw().$implicit,r=t.oxw();return t.KtG(r.onKeyPressRoute(o,a))}),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",56),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.editRouteId="")}),t._UZ(5,"i",57),t.qZA(),t.TgZ(6,"button",58),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.saveRoute(o))}),t.TgZ(7,"span"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"i",59),t.qZA()()}if(2&e){const n=t.MAs(2),i=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.s9C("placeholder",t.lcZ(3,6,"modules.admin.route.common.routePlaceHolder")),t.Q6J("required",o.required)("value",i.route)("type","text"),t.xp6(5),t.Q6J("disabled",!n.value),t.xp6(2),t.Oqu(t.lcZ(9,8,"common.button.ok"))}}function Bo(e,s){if(1&e&&(t.TgZ(0,"td",49),t.YNc(1,Ko,3,4,"span",50),t.YNc(2,Go,11,10,"div",60),t.qZA()),2&e){const n=s.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.editRouteId!==n.id),t.xp6(1),t.Q6J("ngIf",i.editRouteId===n.id)}}function Vo(e,s){1&e&&(t.TgZ(0,"th",48),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.Udp("width",400,"px"),t.xp6(1),t.Oqu(t.lcZ(2,3,"modules.admin.route.common.uri")))}function Xo(e,s){if(1&e&&(t.TgZ(0,"td",49),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.hij(" ",n.uri," ")}}function Wo(e,s){1&e&&(t.TgZ(0,"th",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.Udp("width",150,"px"),t.xp6(1),t.Oqu(t.lcZ(2,3,"modules.admin.route.common.method")))}const ti=function(e,s,n){return{"bg-danger":e,"bg-primary":s,"bg-success":n}};function ei(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"span",65),t._uU(2),t.qZA(),t.BQk()),2&e){const n=s.$implicit;t.xp6(1),t.Q6J("ngClass",t.kEZ(2,ti,"DELETE"===n,"GET"===n,"POST"===n||"PUT"===n)),t.xp6(1),t.Oqu(n)}}function oi(e,s){if(1&e&&(t.TgZ(0,"td",47),t.YNc(1,ei,3,6,"ng-container",64),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.Q6J("ngForOf",n.methods)}}function ii(e,s){1&e&&t._UZ(0,"tr",66)}function ni(e,s){1&e&&t._UZ(0,"tr",67)}const si=function(e){return{"border-top":e}};function ai(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",68)(1,"app-paginator",69),t.NdJ("page",function(o){t.CHM(n);const a=t.oxw();return t.KtG(a.getPaginator(o))}),t.qZA()()}if(2&e){const n=t.oxw();t.Q6J("ngClass",t.VKq(7,si,n.routes)),t.xp6(1),t.Tol(0==n.routes.length?"d-none":"rounded-bottom-start rounded-bottom-end"),t.Q6J("pageSizeOptions",n.pageSizeOptions)("pageSize",n.pageSize)("pageIndex",n.pageIndex)("length",n.length)}}function ri(e,s){1&e&&(t.TgZ(0,"div",70),t._UZ(1,"i",71),t.TgZ(2,"div",12),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"common.dataNotFound")))}const li=function(){return["/"]};let ci=(()=>{var e;class s extends C.H{constructor(i,o,a,r,l,d,h){super(i,r,o),this.authenticationService=i,this.translate=o,this.store=a,this.activatedRoute=r,this.routeService=l,this.location=d,this.dialog=h,this.keyword="",this.length=0,this.pageIndex=1,this.pageSize=30,this.pageSizeOptions=[10,30,50,100],this.routes=[],this.displayedColumns=["sequence","name","route","uri","method"],this.pageEvent=new S.kl,this.loadingState=!1,this.required=!1,this.type="text",this.editNameId="",this.preNameValue="",this.editRouteId="",this.preRouteValue="",this.importRoute=()=>{this.routeService.import().subscribe(p=>{AppNoty.success([this.translate.instant("common.notify.success.message")]),this.getData()})},this.openDialogSync=()=>{this.confirmDialogRef=this.dialog.open(R.$,{width:"400px",disableClose:!1}),this.confirmDialogRef.afterClosed().subscribe(p=>{p&&this.importRoute(),this.confirmDialogRef=void 0})},this.activatedRoute.queryParams.subscribe(p=>{this.keyword=p.keyword??"",this.pageSize=p.limit??this.pageSize,this.pageIndex=p.page??this.pageIndex})}ngOnInit(){this.getData()}ngAfterContentInit(){}getData(){const i={};this.pageIndex>0&&(i.page=this.pageIndex),this.pageSize>0&&(i.limit=this.pageSize),""!==this.keyword&&(i.keyword=encodeURIComponent(this.keyword)),this.onDestroyRoute=this.routeService.get(i).subscribe(a=>{this.routes=a.data||[],this.length=a.count});const o=[];for(const a in i)o.push(a+"="+i[a]);this.location.replaceState("/"+v.N.administratorPrefix+"/route/search",o.join("&"))}getPaginator(i){this.pageIndex=i.pageIndex,this.pageSize=i.pageSize,this.getData()}ngOnDestroy(){this.onDestroyRoute&&this.onDestroyRoute.unsubscribe()}editName(i,o){this.preNameValue=i,this.editNameId=o.id,setTimeout(()=>{this.inlineEditControlName.nativeElement.focus()})}saveName(i){if(null==i)return;const o=i.id,a=this.inlineEditControlName.nativeElement.value,r=this.routes.findIndex(d=>d.id===o);this.editNameId="",this.routes[r].name=a,this.routeService.update(o,{name:a}).subscribe(d=>{commons.notify.success(this.translate.instant("common.notify.success.title"),this.translate.instant("common.notify.success.message")),typeof r<"u"&&(this.routes[r].name=a)})}onKeyPressName(i,o){"Enter"===i.key&&this.saveName(o)}editRoute(i,o){this.preRouteValue=i,this.editRouteId=o.id,setTimeout(()=>{this.inlineEditControlRoute.nativeElement.focus()})}saveRoute(i){if(null==i)return;const o=i.id,a=this.inlineEditControlRoute.nativeElement.value;this.editRouteId="",this.routeService.update(o,{route:a}).subscribe(l=>{commons.notify.success(this.translate.instant("common.notify.success.title"),this.translate.instant("common.notify.success.message"));const d=this.routes.findIndex(h=>h.id===o);typeof d<"u"&&(this.routes[d].route=a)})}onKeyPressRoute(i,o){"Enter"===i.key&&this.saveRoute(o)}}return(e=s).\u0275fac=function(i){return new(i||e)(t.Y36(T.$),t.Y36(x.sK),t.Y36(nt.yh),t.Y36(Z.gz),t.Y36(Fo),t.Y36(g.Ye),t.Y36(f.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core-route-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Do,5),t.Gf(Qo,5)),2&i){let a;t.iGM(a=t.CRH())&&(o.inlineEditControlName=a.first),t.iGM(a=t.CRH())&&(o.inlineEditControlRoute=a.first)}},hostBindings:function(i,o){1&i&&t.NdJ("keypress",function(r){return o.onKeyPressRoute(r)})},inputs:{required:"required",type:"type"},features:[t.qOj],decls:69,vars:35,consts:[[1,"wp-administrator-route"],[1,"page-header"],[1,"page-header-content","d-lg-flex","flex-lg-wrap","border-bottom"],[1,"d-flex"],[1,"breadcrumb"],[1,"breadcrumb-item","py-2",3,"routerLink"],[1,"ph-house","me-2"],[1,"breadcrumb-item","active","py-2"],[1,"page-header-content","d-lg-flex","flex-lg-wrap"],[1,"page-title","pt-2","pb-0"],[1,"mb-0"],[1,"fw-normal"],[1,"text-muted"],[1,"content"],[1,"card","mb-0"],[1,"card-header","p-2","pb-0"],[1,"row"],[1,"col-xl-12"],[1,"form-group","mb-2","float-start","search-route","me-2"],[1,"input-group"],[1,"input-group-text"],[1,"ph-funnel"],["type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange","keydown.enter"],[1,"form-group","mb-2","float-start"],[1,"btn","btn-primary",3,"click"],[1,"ph","ph-magnifying-glass","ms-1","icon-small"],[1,"form-group","mb-2","float-end"],[1,"ph","ph-arrows-clockwise","ms-1","icon-small"],[1,"table-responsive"],["mat-table","","aria-describedby","table-routes",1,"table","table-sm","table-hover","table-layout-fixed",3,"dataSource"],["table",""],["matColumnDef","sequence"],["mat-header-cell","","class","text-center bg-dark text-white",3,"width","min-width","max-width",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","class","bg-dark text-white",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","route"],["mat-header-cell","","class","bg-dark text-white",3,"width",4,"matHeaderCellDef"],["matColumnDef","uri"],["matColumnDef","method"],["mat-header-cell","","class","bg-dark text-white text-center",3,"width",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","rounded-bottom-start rounded-bottom-end d-flex justify-content-end",3,"ngClass",4,"ngIf"],["class","text-center p-2",4,"ngIf"],["mat-header-cell","",1,"text-center","bg-dark","text-white"],["mat-cell","",1,"text-center"],["mat-header-cell","",1,"bg-dark","text-white"],["mat-cell",""],["class","route-item","matTooltipPosition","above",3,"matTooltip","click","focus",4,"ngIf"],["class","input-group","style","width: 400px;",4,"ngIf"],["matTooltipPosition","above",1,"route-item",3,"matTooltip","click","focus"],[1,"input-group",2,"width","400px"],[1,"form-control",3,"required","value","type","placeholder","keypress"],["inlineEditControlName",""],["type","button",1,"btn","btn-danger","btn-icon",3,"click"],[1,"ph-x"],["type","button",1,"btn","btn-success","btn-icon",3,"disabled","click"],[1,"ph-check","ms-1"],["class","input-group","style","width: 300px;",4,"ngIf"],[1,"input-group",2,"width","300px"],["inlineEditControlRoute",""],["mat-header-cell","",1,"bg-dark","text-white","text-center"],[4,"ngFor","ngForOf"],[1,"badge",3,"ngClass"],["mat-header-row",""],["mat-row",""],[1,"rounded-bottom-start","rounded-bottom-end","d-flex","justify-content-end",3,"ngClass"],[3,"pageSizeOptions","pageSize","pageIndex","length","page"],[1,"text-center","p-2"],[1,"mi-inbox"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),t._UZ(6,"i",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"span",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"span",7),t._uU(13),t.ALo(14,"translate"),t.qZA()()()(),t.TgZ(15,"div",8)(16,"div",9)(17,"h5",10),t._uU(18),t.ALo(19,"translate"),t.TgZ(20,"span",11),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.TgZ(23,"div",12),t._uU(24),t.ALo(25,"translate"),t.qZA()()()(),t.TgZ(26,"div",13)(27,"div",14)(28,"div",15)(29,"div",16)(30,"div",17)(31,"div",18)(32,"div",19)(33,"span",20),t._UZ(34,"i",21),t.qZA(),t.TgZ(35,"input",22),t.NdJ("ngModelChange",function(r){return o.keyword=r})("keydown.enter",function(){return o.getData()}),t.ALo(36,"translate"),t.qZA()()(),t.TgZ(37,"div",23)(38,"button",24),t.NdJ("click",function(){return o.getData()}),t._uU(39),t.ALo(40,"translate"),t._UZ(41,"i",25),t.qZA()(),t.TgZ(42,"div",26)(43,"button",24),t.NdJ("click",function(){return o.openDialogSync()}),t._uU(44),t.ALo(45,"translate"),t._UZ(46,"i",27),t.qZA()()()()(),t.TgZ(47,"div",28)(48,"table",29,30),t.ynx(50,31),t.YNc(51,Po,2,6,"th",32),t.YNc(52,jo,2,1,"td",33),t.BQk(),t.ynx(53,34),t.YNc(54,$o,3,3,"th",35),t.YNc(55,Eo,3,2,"td",36),t.BQk(),t.ynx(56,37),t.YNc(57,Ho,3,5,"th",38),t.YNc(58,Bo,3,2,"td",36),t.BQk(),t.ynx(59,39),t.YNc(60,Vo,3,5,"th",38),t.YNc(61,Xo,2,1,"td",36),t.BQk(),t.ynx(62,40),t.YNc(63,Wo,3,5,"th",41),t.YNc(64,oi,2,1,"td",33),t.BQk(),t.YNc(65,ii,1,0,"tr",42),t.YNc(66,ni,1,0,"tr",43),t.qZA()(),t.YNc(67,ai,2,9,"div",44),t.YNc(68,ri,5,3,"div",45),t.qZA()()()),2&i&&(t.xp6(5),t.Q6J("routerLink",t.DdM(34,li)),t.xp6(2),t.hij(" ",t.lcZ(8,16,"breadcrumbs.home"),""),t.xp6(3),t.Oqu(t.lcZ(11,18,"breadcrumbs.admin")),t.xp6(3),t.Oqu(t.lcZ(14,20,"modules.admin.route.breadcrumbs.name")),t.xp6(5),t.hij(" ",t.lcZ(19,22,"modules.admin.route.breadcrumbs.name")," - "),t.xp6(3),t.Oqu(t.lcZ(22,24,"modules.admin.route.breadcrumbs.search")),t.xp6(3),t.Oqu(t.lcZ(25,26,"modules.admin.route.breadcrumbs.searchDescription")),t.xp6(11),t.s9C("placeholder",t.lcZ(36,28,"common.placeholder")),t.Q6J("ngModel",o.keyword),t.xp6(4),t.hij("",t.lcZ(40,30,"common.button.search")," "),t.xp6(5),t.hij("",t.lcZ(45,32,"modules.admin.route.common.sync")," "),t.xp6(4),t.Q6J("dataSource",o.routes),t.xp6(17),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.routes),t.xp6(1),t.Q6J("ngIf",0==o.routes.length))},dependencies:[g.mk,g.sg,g.O5,c.Fj,c.JJ,c.On,I.gM,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,Q.J,Z.rH,x.X$],styles:[".wp-administrator-route .route-item,   .wp-administrator-route .route-name{border-bottom:1px dashed rgb(37,43,54);cursor:pointer}  .wp-administrator-route .search-route{width:350px}@media (max-width: 1000px){  .wp-administrator-route .mat-column-name{width:500px}}@media screen and (max-width: 480px){  .wp-administrator-route .search-route{width:100%}}"]}),s})();var N=u(5107);let M=(()=>{var e;class s{constructor(i,o,a){this.router=i,this.authenticationService=o,this.localStorageService=a}canActivate(i,o){const a=this.authenticationService.getUserFromLocalStorage();return!!(a&&[v.N.roles.superAdmin].indexOf(a.roleId)>=0)||(this.router.navigate(["/","error","403.html"]),!1)}}return(e=s).\u0275fac=function(i){return new(i||e)(t.LFG(Z.F0),t.LFG(T.$),t.LFG(E.n))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),s})();var di=u(5439);class st{constructor(s){this.device="",this.ip="",this.action="",this.module="",this.path="",this.id=null,s&&(this.user=s?.user??null,this.device=s?.device?s.device.trim():"",this.ip=s.ip??"",this.action=s.action??"",this.body=s?.dataRequest?JSON.parse(s.dataRequest):null,this.oldBody=s?.oldDataRequest?JSON.parse(s.oldDataRequest):null,this.module=s?.module??"",this.createdAt=s?.createdAt?di(s.createdAt).format("HH:mm:ss DD/MM/yyyy"):"",this.path=s?.path??"",this.params=s?.params?JSON.parse(s.params):null,this.originalUser=s?.originalUser??null)}}var mi=u(4425);function ui(e,s){if(1&e&&(t.TgZ(0,"div",28)(1,"label",8)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",9)(6,"div",10)(7,"label",11)(8,"strong"),t._uU(9),t.ALo(10,"translate"),t.qZA()(),t.TgZ(11,"span"),t._uU(12),t.qZA()(),t.TgZ(13,"div",10)(14,"label",11)(15,"strong"),t._uU(16),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"span"),t._uU(19),t.qZA()(),t.TgZ(20,"div",10)(21,"label",11)(22,"strong"),t._uU(23),t.ALo(24,"translate"),t.qZA()(),t.TgZ(25,"span"),t._uU(26),t.qZA()(),t.TgZ(27,"div")(28,"label",11)(29,"strong"),t._uU(30),t.ALo(31,"translate"),t.qZA()(),t.TgZ(32,"span"),t._uU(33),t.qZA()()()()),2&e){const n=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,9,"modules.admin.actionLog.common.originalUser")),t.xp6(6),t.hij("",t.lcZ(10,11,"modules.admin.actionLog.common.userId")," :"),t.xp6(3),t.Oqu(n.actionLog.originalUser.id),t.xp6(4),t.hij("",t.lcZ(17,13,"modules.admin.actionLog.common.fullName")," :"),t.xp6(3),t.Oqu(n.actionLog.originalUser.fullName),t.xp6(4),t.hij("",t.lcZ(24,15,"modules.admin.actionLog.common.userName")," :"),t.xp6(3),t.Oqu(n.actionLog.originalUser.username),t.xp6(4),t.hij("",t.lcZ(31,17,"modules.admin.actionLog.common.email")," :"),t.xp6(3),t.Oqu(n.actionLog.originalUser.email)}}function pi(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",21)(1,"div",22)(2,"strong",23),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"pre",29),t._uU(6,"            "),t.TgZ(7,"code",25),t._uU(8),t.ALo(9,"json"),t.qZA(),t._uU(10,"\n        "),t.qZA(),t.TgZ(11,"div",26)(12,"i",27),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.copyCode(o.actionLog.params))}),t.ALo(13,"translate"),t.qZA()()()}if(2&e){const n=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,3,"modules.admin.actionLog.common.param")),t.xp6(5),t.Oqu(t.lcZ(9,5,n.actionLog.params)),t.xp6(4),t.s9C("matTooltip",t.lcZ(13,7,"modules.admin.actionLog.common.copyCode"))}}function gi(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",30)(1,"div",21)(2,"div",22)(3,"strong",23),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"pre",24),t._uU(7,"                    "),t.TgZ(8,"code",25),t._uU(9),t.ALo(10,"json"),t.qZA(),t._uU(11,"\n                "),t.qZA(),t.TgZ(12,"div",26)(13,"i",27),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.copyCode(o.actionLog.oldBody))}),t.ALo(14,"translate"),t.qZA()()()()}if(2&e){const n=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,3,"modules.admin.actionLog.common.oldBody")),t.xp6(5),t.Oqu(t.lcZ(10,5,n.actionLog.oldBody)),t.xp6(4),t.s9C("matTooltip",t.lcZ(14,7,"modules.admin.actionLog.common.copyCode"))}}const hi=function(e,s){return{"col-xl-6":e,"col-xl-12":s}},_i=function(e,s){return{"col-md-6":e,"col-md-12":s}};let fi=(()=>{var e;class s extends C.H{constructor(i,o,a,r,l,d){super(o,a,r),this.data=i,this.authenticationService=o,this.activatedRoute=a,this.translate=r,this.dialog=l,this.clipboard=d,this.actionLog=new st,this.actionLog=this.data.actionLog}ngOnInit(){}copyCode(i){this.clipboard.copy(JSON.stringify(i)),AppNoty.success([this.translate.instant("modules.admin.actionLog.common.copyCodeSuccess")])}checkObjectEmpty(i){return 0===Object.keys(i).length}}return(e=s).\u0275fac=function(i){return new(i||e)(t.Y36(f.WI),t.Y36(T.$),t.Y36(Z.gz),t.Y36(x.sK),t.Y36(f.uw),t.Y36(mi.TU))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin-action-log-detail-dialog"]],features:[t.qOj],decls:99,vars:63,consts:[[1,"col-xl-12","pt-2","pb-2","dialog-header"],[1,"font-weight-bold","m-0","ms-1"],[1,"ph","ph-files","me-1","fw-bold"],["mat-dialog-close","",1,"icon-close-dialog"],[1,"ph","ph-x"],[1,"mat-typography","p-2"],[1,"row","mb-2"],[1,"col-xl-6",3,"ngClass"],[1,"form-label"],[1,"border","border-radius","p-3"],[1,"mb-2"],[1,"form-label","me-1"],["class","col-xl-6",4,"ngIf"],[1,"row"],[1,"col-sm-6"],[1,"form-control-feedback","mb-2"],["type","text","disabled","",1,"form-control",3,"value"],[1,"col-sm-4"],["class","form-control-feedback mb-2 code-toolbar border border-radius style-scroll",4,"ngIf"],["class","col-md-6",4,"ngIf"],[3,"ngClass"],[1,"form-control-feedback","mb-2","code-toolbar","border","border-radius","style-scroll"],[1,"p-2"],[1,"mb-0"],[1,"language-javascript","mt-0","body-code"],[1,"mt-0","d-block"],[1,"d-flex","justify-content-end"],[1,"ph","ph-copy-simple","p-1","text-muted","cursor-pointer",3,"matTooltip","click"],[1,"col-xl-6"],[1,"language-javascript","mt-0","body-code","param"],[1,"col-md-6"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h5",1),t._UZ(2,"i",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",3),t._UZ(6,"i",4),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8)(11,"strong"),t._uU(12),t.ALo(13,"translate"),t.qZA()(),t.TgZ(14,"div",9)(15,"div",10)(16,"label",11)(17,"strong"),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t.TgZ(20,"span"),t._uU(21),t.qZA()(),t.TgZ(22,"div",10)(23,"label",11)(24,"strong"),t._uU(25),t.ALo(26,"translate"),t.qZA()(),t.TgZ(27,"span"),t._uU(28),t.qZA()(),t.TgZ(29,"div",10)(30,"label",11)(31,"strong"),t._uU(32),t.ALo(33,"translate"),t.qZA()(),t.TgZ(34,"span"),t._uU(35),t.qZA()(),t.TgZ(36,"div")(37,"label",11)(38,"strong"),t._uU(39),t.ALo(40,"translate"),t.qZA()(),t.TgZ(41,"span"),t._uU(42),t.qZA()()()(),t.YNc(43,ui,34,19,"div",12),t.qZA(),t.TgZ(44,"div",13)(45,"div",14)(46,"label",8)(47,"strong"),t._uU(48),t.ALo(49,"translate"),t.qZA()(),t.TgZ(50,"div",15),t._UZ(51,"input",16),t.qZA()(),t.TgZ(52,"div",14)(53,"label",8)(54,"strong"),t._uU(55),t.ALo(56,"translate"),t.qZA()(),t.TgZ(57,"div",15),t._UZ(58,"input",16),t.qZA()()(),t.TgZ(59,"div",13)(60,"div",17)(61,"label",8)(62,"strong"),t._uU(63),t.ALo(64,"translate"),t.qZA()(),t.TgZ(65,"div",15),t._UZ(66,"input",16),t.qZA()(),t.TgZ(67,"div",17)(68,"label",8)(69,"strong"),t._uU(70),t.ALo(71,"translate"),t.qZA()(),t.TgZ(72,"div",15),t._UZ(73,"input",16),t.qZA()(),t.TgZ(74,"div",17)(75,"label",8)(76,"strong"),t._uU(77),t.ALo(78,"translate"),t.qZA()(),t.TgZ(79,"div",15),t._UZ(80,"input",16),t.qZA()()(),t.YNc(81,pi,14,9,"div",18),t.TgZ(82,"div",13),t.YNc(83,gi,15,9,"div",19),t.TgZ(84,"div",20)(85,"div",21)(86,"div",22)(87,"strong",23),t._uU(88),t.ALo(89,"translate"),t.qZA()(),t.TgZ(90,"pre",24),t._uU(91,"                    "),t.TgZ(92,"code",25),t._uU(93),t.ALo(94,"json"),t.qZA(),t._uU(95,"\n                "),t.qZA(),t.TgZ(96,"div",26)(97,"i",27),t.NdJ("click",function(){return o.copyCode(o.actionLog.body)}),t.ALo(98,"translate"),t.qZA()()()()()()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,29,"modules.admin.actionLog.breadcrumbs.detail")," "),t.xp6(6),t.Q6J("ngClass",t.WLB(57,hi,o.actionLog.originalUser.id,!o.actionLog.originalUser.id)),t.xp6(3),t.Oqu(t.lcZ(13,31,"modules.admin.actionLog.common.account")),t.xp6(6),t.hij("",t.lcZ(19,33,"modules.admin.actionLog.common.userId")," :"),t.xp6(3),t.Oqu(o.actionLog.user.id),t.xp6(4),t.hij("",t.lcZ(26,35,"modules.admin.actionLog.common.fullName")," :"),t.xp6(3),t.Oqu(o.actionLog.user.fullName),t.xp6(4),t.hij("",t.lcZ(33,37,"modules.admin.actionLog.common.userName")," :"),t.xp6(3),t.Oqu(o.actionLog.user.username),t.xp6(4),t.hij("",t.lcZ(40,39,"modules.admin.actionLog.common.email")," :"),t.xp6(3),t.Oqu(o.actionLog.user.email),t.xp6(1),t.Q6J("ngIf",o.actionLog.originalUser.id),t.xp6(5),t.Oqu(t.lcZ(49,41,"modules.admin.actionLog.common.route")),t.xp6(3),t.s9C("value",o.actionLog.path),t.xp6(4),t.Oqu(t.lcZ(56,43,"modules.admin.actionLog.common.device")),t.xp6(3),t.hYB("value","",o.actionLog.ip," - ",o.actionLog.device,""),t.xp6(5),t.Oqu(t.lcZ(64,45,"modules.admin.actionLog.common.module")),t.xp6(3),t.s9C("value",o.actionLog.module),t.xp6(4),t.Oqu(t.lcZ(71,47,"modules.admin.actionLog.common.action")),t.xp6(3),t.s9C("value",o.actionLog.action),t.xp6(4),t.Oqu(t.lcZ(78,49,"modules.admin.actionLog.common.time")),t.xp6(3),t.s9C("value",o.actionLog.createdAt),t.xp6(1),t.Q6J("ngIf",!o.checkObjectEmpty(o.actionLog.params)),t.xp6(2),t.Q6J("ngIf","PUT"===o.actionLog.action&&o.actionLog.oldBody),t.xp6(1),t.Q6J("ngClass",t.WLB(60,_i,"PUT"===o.actionLog.action&&o.actionLog.oldBody,"PUT"!==o.actionLog.action)),t.xp6(4),t.Oqu(t.lcZ(89,51,"modules.admin.actionLog.common.body")),t.xp6(5),t.Oqu(t.lcZ(94,53,o.actionLog.body)),t.xp6(4),t.s9C("matTooltip",t.lcZ(98,55,"modules.admin.actionLog.common.copyCode")))},dependencies:[g.mk,g.O5,f.ZT,I.gM,g.Ts,x.X$],styles:[".admin-dialog-action-detail .body-code{max-height:300px;overflow-y:auto;height:300px}  .admin-dialog-action-detail .bg-syntax{background:#F9FAFB}  .admin-dialog-action-detail .param{height:200px}"]}),s})(),xi=(()=>{var e;class s{constructor(i){this.backendService=i,this.apiServerPaths=v.N.backendServer.paths}search(i){const o={params:{encryptParam:!0},headers:{Accept:"application/json"}};for(const r in i)o.params[r]=i[r];return this.backendService.get(this.apiServerPaths.administrator.actionLog.list,o,(0,q.U)(r=>{const l=[];return r?.data?.logs?.data.forEach(d=>{l.push(new st(d))}),{status:r?.status,message:r?.message,data:{logList:l,count:r?.data?.logs?.count??0},code:r?.code}}))}}return(e=s).\u0275fac=function(i){return new(i||e)(t.LFG(z.v))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),s})();var Ai=u(3795);function Zi(e,s){1&e&&(t.TgZ(0,"th",53),t._uU(1,"#"),t.qZA()),2&e&&t.Udp("width",70,"px")}function vi(e,s){if(1&e&&(t.TgZ(0,"td",54),t._uU(1),t.qZA()),2&e){const n=s.index,i=t.oxw();t.xp6(1),t.hij(" ",n+1+(i.pageIndex-1)*i.pageSize," ")}}function bi(e,s){1&e&&(t.TgZ(0,"th",55),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.Udp("width",350,"px"),t.xp6(1),t.hij(" ",t.lcZ(2,3,"modules.admin.actionLog.common.account")," "))}function wi(e,s){if(1&e&&(t.TgZ(0,"li",62),t._UZ(1,"i",63),t.ALo(2,"translate"),t._uU(3),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.s9C("matTooltip",t.lcZ(2,2,"modules.admin.actionLog.common.email")),t.xp6(2),t.hij(" ",n.user.email," ")}}function Ti(e,s){if(1&e&&(t.TgZ(0,"li",62),t._UZ(1,"i",64),t.ALo(2,"translate"),t._uU(3),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.s9C("matTooltip",t.lcZ(2,2,"modules.admin.actionLog.common.originalUser")),t.xp6(2),t.hij(" ",n.originalUser.id," ")}}function Ci(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"td",56)(1,"div",3),t._UZ(2,"div",57),t.TgZ(3,"div",58)(4,"span",59),t.NdJ("click",function(){const a=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.openDetail(a))}),t._uU(5),t.qZA(),t.TgZ(6,"ul",60),t.YNc(7,wi,4,4,"li",61),t.YNc(8,Ti,4,4,"li",61),t.qZA()()()()}if(2&e){const n=s.$implicit,i=t.oxw();t.xp6(2),t.Akn("background-image: url("+i.defaultAvatar+")"),t.xp6(3),t.hij(" ",n.user.username," "),t.xp6(2),t.Q6J("ngIf",n.user.email),t.xp6(1),t.Q6J("ngIf",n.originalUser.id)}}function Ui(e,s){1&e&&(t.TgZ(0,"th",65),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()),2&e&&(t.Udp("width",200,"px"),t.xp6(1),t.AsE(" ",t.lcZ(2,4,"modules.admin.actionLog.common.ip")," - ",t.lcZ(3,6,"modules.admin.actionLog.common.device")," "))}function qi(e,s){if(1&e&&(t.TgZ(0,"td",66),t._uU(1),t._UZ(2,"i",67),t.ALo(3,"translate"),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.hij(" ",n.ip," - "),t.xp6(1),t.Q6J("matTooltip",t.lcZ(3,3,"mobile"===n.device?"modules.admin.actionLog.common.deviceMobile":"modules.admin.actionLog.common.deviceDesktop"))("ngClass","mobile"===n.device?"ph-device-mobile":"ph-desktop")}}function yi(e,s){1&e&&(t.TgZ(0,"th",53),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.Udp("width",150,"px"),t.xp6(1),t.hij(" ",t.lcZ(2,3,"modules.admin.actionLog.common.module")," "))}function Li(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"td",54)(1,"span",68),t.NdJ("click",function(){const a=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.autoFilter(a,1))}),t._uU(2),t.qZA()()}if(2&e){const n=s.$implicit;t.xp6(2),t.Oqu(n.module)}}function ki(e,s){1&e&&(t.TgZ(0,"th",65),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.Udp("width",300,"px"),t.xp6(1),t.hij(" ",t.lcZ(2,3,"modules.admin.actionLog.common.route")," "))}function Ii(e,s){if(1&e&&(t.TgZ(0,"td",69),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.hij(" ",n.path," ")}}function Ni(e,s){1&e&&(t.TgZ(0,"th",53),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.Udp("width",140,"px"),t.xp6(1),t.hij(" ",t.lcZ(2,3,"modules.admin.actionLog.common.action")," "))}function Si(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"td",54)(1,"span",68),t.NdJ("click",function(){const a=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.autoFilter(a,2))}),t._uU(2),t.qZA()()}if(2&e){const n=s.$implicit;t.xp6(2),t.Oqu(n.action)}}function Ri(e,s){1&e&&(t.TgZ(0,"th",53),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.Udp("width",200,"px"),t.xp6(1),t.hij(" ",t.lcZ(2,3,"modules.admin.actionLog.common.time")," "))}function Ji(e,s){if(1&e&&(t.TgZ(0,"td",54),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.hij(" ",n.createdAt," ")}}function Oi(e,s){1&e&&t._UZ(0,"th",53),2&e&&t.Udp("width",50,"px")}function Yi(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"td",54)(1,"a",70),t.NdJ("click",function(){const a=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.openDetail(a))}),t.ALo(2,"translate"),t._UZ(3,"i",71),t.qZA()()}2&e&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"modules.admin.actionLog.common.detail")))}function Fi(e,s){1&e&&t._UZ(0,"tr",72)}function Di(e,s){1&e&&t._UZ(0,"tr",73)}const Qi=function(e){return{"border-top":e}};function Pi(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",74)(1,"app-paginator",75),t.NdJ("page",function(o){t.CHM(n);const a=t.oxw();return t.KtG(a.getPaginator(o))}),t.qZA()()}if(2&e){const n=t.oxw();t.Q6J("ngClass",t.VKq(7,Qi,n.actionLogs)),t.xp6(1),t.Tol(0==n.length?"d-none":"rounded-bottom-start rounded-bottom-end"),t.Q6J("pageSizeOptions",n.pageSizeOptions)("pageSize",n.pageSize)("pageIndex",n.pageIndex)("length",n.length)}}function ji(e,s){1&e&&(t.TgZ(0,"div",76),t._UZ(1,"i",77),t.TgZ(2,"div",12),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"modules.admin.actionLog.common.noData")))}const $i=function(){return["/"]};let Mi=(()=>{var e;class s extends C.H{constructor(i,o,a,r,l,d,h,p){super(i,a,o),this.authenticationService=i,this.translate=o,this.activatedRoute=a,this.actionLogService=r,this.location=l,this.deviceService=d,this.globalsService=h,this.dialog=p,this.pageSize=20,this.pageIndex=1,this.pageSizeOptions=[20,30,50,100],this.keyword="",this.dataSourceActionLogs=new m.by([]),this.actionLogs=[],this.displayedColumns=["sequence","account","ipAndDevice","route","module","action","time","actionLog"],this.length=0,this.actions=this.globalsService.core.actions,this.modules=this.globalsService.core.modules,this.actionTypes=[],this.moduleTypes=[],this.dataFilter={action:-1,module:"-1"},this.defaultAvatar=this.globalsService.user.avatar.default,this.activatedRoute.queryParams.subscribe(_=>{this.keyword=_.keyword??"",this.pageSize=_.limit??this.pageSize,this.pageSizeOptions.includes(this.pageSize)||(this.pageSize=this.pageSizeOptions[0])}),this.actionTypes.push({id:-1,text:this.translate.instant("modules.admin.actionLog.common.allAction"),selected:-1==this.dataFilter.action}),this.moduleTypes.push({id:"-1",text:this.translate.instant("modules.admin.actionLog.common.allModule"),selected:!this.dataFilter.module}),this.fromDate=this.datePipe.transform(this.startDate,"yyyy-MM-dd"),this.toDate=this.datePipe.transform(this.endDate,"yyyy-MM-dd")}ngAfterViewInit(){this.initSelect2Action(),this.initSelect2Module(),this.initDatePicker("right",!this.isMobile,this.isMobile)}ngOnInit(){this.getData()}ngOnDestroy(){this.destroyDatePicker(this.datePickerInstance)}get isMobile(){return this.deviceService.isMobile()}initSelect2Action(){if(this.actions.length)for(const i of this.actions)this.actionTypes.push({id:i.id,text:i.name,selected:this.dataFilter.action==i.id});$(".action-log-select-action").select2({data:this.actionTypes}).on("select2:select",i=>{const o=parseInt(i.params.data.id);this.dataFilter.action=o})}initSelect2Module(){if(this.modules.length)for(const i of this.modules)this.moduleTypes.push({id:i.id,text:i.name,selected:this.dataFilter.module==i.id});$(".action-log-select-module").select2({data:this.moduleTypes}).on("select2:select",i=>{this.dataFilter.module=i.params.data.id})}getData(i){const o={limit:this.pageSize,fd:this.fromDate,td:this.toDate};i?(this.pageIndex=1,o.page=this.pageIndex):this.pageIndex>0&&(o.page=this.pageIndex),""!==this.keyword&&(o.keyword=encodeURIComponent(this.keyword)),-1!==this.dataFilter.action&&(o.action=this.actions.find(r=>r.id===this.dataFilter.action)?.name),this.dataFilter.module&&"-1"!==this.dataFilter.module&&(o.module=this.dataFilter.module),this.actionLogService.search(o).subscribe(r=>{1===r.status&&(this.actionLogs=r?.data?.logList??[],this.dataSourceActionLogs=new m.by(this.actionLogs),this.length=r?.data?.count)});const a=[];for(const r in o)a.push(r+"="+o[r]);this.location.replaceState("/"+v.N.administratorPrefix+"/action-log/search",a.join("&"))}getPaginator(i){this.pageIndex=i.pageIndex,this.pageSize=i.pageSize,this.getData()}openDetail(i){this.dialog.open(fi,{autoFocus:!1,panelClass:"admin-dialog-action-detail",width:"1000px",height:"auto",maxHeight:"80vh",data:{actionLog:i}})}autoFilter(i,o){switch(this.pageIndex=1,o){case 1:this.dataFilter.module=i.module,$(".action-log-select-module").empty(),this.moduleTypes=[{id:"-1",text:this.translate.instant("modules.admin.actionLog.common.allModule"),selected:!this.dataFilter.module}],this.initSelect2Module(),this.getData();break;case 2:this.dataFilter.action=this.actions.find(a=>a.name===i.action)?.id??-1,$(".action-log-select-action").empty(),this.actionTypes=[{id:-1,text:this.translate.instant("modules.admin.actionLog.common.allAction"),selected:-1==this.dataFilter.action}],this.initSelect2Action(),this.getData()}}}return(e=s).\u0275fac=function(i){return new(i||e)(t.Y36(T.$),t.Y36(x.sK),t.Y36(Z.gz),t.Y36(xi),t.Y36(g.Ye),t.Y36(Ai.x0),t.Y36(H.d),t.Y36(f.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin-action-log-list"]],features:[t.qOj],decls:81,vars:32,consts:[[1,"wp-administrator-log-action"],[1,"page-header"],[1,"page-header-content","d-lg-flex","flex-lg-wrap","border-bottom"],[1,"d-flex"],[1,"breadcrumb"],[1,"breadcrumb-item","py-2",3,"routerLink"],[1,"ph-house","me-2"],[1,"breadcrumb-item","active","py-2"],[1,"page-header-content","d-lg-flex","flex-lg-wrap"],[1,"page-title","pt-2","pb-0"],[1,"mb-0"],[1,"fw-normal"],[1,"text-muted"],[1,"content"],[1,"card","mb-0"],[1,"card-header","p-2","pb-0"],[1,"row"],[1,"col-xl-12"],[1,"form-group","filter-item","mb-2","float-start","me-0","me-sm-2"],[1,"input-group"],[1,"input-group-text"],[1,"ph-funnel"],["type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange","keydown.enter"],[1,""],["type","button",1,"btn","btn-light","button-datepicker","mb-2","float-start","me-sm-2"],[1,"ph-calendar","me-2"],[1,"date-range-picker"],["data-minimum-results-for-search","Infinity",1,"form-control","select","action-log-select-action"],["data-minimum-results-for-search","Infinity",1,"form-control","select","action-log-select-module"],[1,"form-group","filter-item","mb-2","float-start"],[1,"btn","btn-primary",3,"click"],[1,"ph","ph-magnifying-glass","ms-1","icon-small"],[1,"table-responsive","data-table-action-log"],["mat-table","","aria-describedby","table-log-data-actions",1,"table","table-sm","table-hover","table-layout-fixed",3,"dataSource"],["matColumnDef","sequence"],["mat-header-cell","","class","text-center bg-dark text-white",3,"width",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","account"],["mat-header-cell","","class","bg-dark text-white ps-0",3,"width",4,"matHeaderCellDef"],["mat-cell","","class","ps-0",4,"matCellDef"],["matColumnDef","ipAndDevice"],["mat-header-cell","","class","text-start bg-dark text-white",3,"width",4,"matHeaderCellDef"],["mat-cell","","class","text-start",4,"matCellDef"],["matColumnDef","module"],["matColumnDef","route"],["mat-cell","","class","text-left",4,"matCellDef"],["matColumnDef","action"],["matColumnDef","time"],["matColumnDef","actionLog"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","rounded-bottom-start rounded-bottom-end d-flex justify-content-end",3,"ngClass",4,"ngIf"],["class","text-center p-2",4,"ngIf"],["mat-header-cell","",1,"text-center","bg-dark","text-white"],["mat-cell","",1,"text-center"],["mat-header-cell","",1,"bg-dark","text-white","ps-0"],["mat-cell","",1,"ps-0"],[1,"cover"],[1,"ms-2"],[1,"text-primary","cursor-pointer",3,"click"],[1,"list","list-unstyled","list-inline","mb-0"],["class","list-inline-item text-muted font-size-base",4,"ngIf"],[1,"list-inline-item","text-muted","font-size-base"],[1,"ph","ph-envelope","text-muted","icon-small-17",3,"matTooltip"],[1,"ph","ph-user-switch","text-muted","icon-small-17",3,"matTooltip"],["mat-header-cell","",1,"text-start","bg-dark","text-white"],["mat-cell","",1,"text-start"],[1,"ph",3,"matTooltip","ngClass"],[1,"auto-filter-el",3,"click"],["mat-cell","",1,"text-left"],[1,"cursor-pointer",3,"matTooltip","click"],[1,"ph","ph-files","me-2"],["mat-header-row",""],["mat-row",""],[1,"rounded-bottom-start","rounded-bottom-end","d-flex","justify-content-end",3,"ngClass"],[3,"pageSizeOptions","pageSize","pageIndex","length","page"],[1,"text-center","p-2"],[1,"mi-inbox"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),t._UZ(6,"i",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"span",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"span",7),t._uU(13),t.ALo(14,"translate"),t.qZA()()()(),t.TgZ(15,"div",8)(16,"div",9)(17,"h5",10),t._uU(18),t.ALo(19,"translate"),t.TgZ(20,"span",11),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.TgZ(23,"div",12),t._uU(24),t.ALo(25,"translate"),t.qZA()()()(),t.TgZ(26,"div",13)(27,"div",14)(28,"div",15)(29,"div",16)(30,"div",17)(31,"div",18)(32,"div",19)(33,"span",20),t._UZ(34,"i",21),t.qZA(),t.TgZ(35,"input",22),t.NdJ("ngModelChange",function(r){return o.keyword=r})("keydown.enter",function(){return o.getData(!0)}),t.ALo(36,"translate"),t.qZA()()(),t.TgZ(37,"div",23)(38,"button",24),t._UZ(39,"i",25),t.TgZ(40,"span",26),t._UZ(41,"span"),t.qZA()()(),t.TgZ(42,"div",18),t._UZ(43,"select",27),t.qZA(),t.TgZ(44,"div",18),t._UZ(45,"select",28),t.qZA(),t.TgZ(46,"div",29)(47,"button",30),t.NdJ("click",function(){return o.getData(!0)}),t._uU(48),t.ALo(49,"translate"),t._UZ(50,"i",31),t.qZA()()()()(),t.TgZ(51,"div",32)(52,"table",33),t.ynx(53,34),t.YNc(54,Zi,2,2,"th",35),t.YNc(55,vi,2,1,"td",36),t.BQk(),t.ynx(56,37),t.YNc(57,bi,3,5,"th",38),t.YNc(58,Ci,9,5,"td",39),t.BQk(),t.ynx(59,40),t.YNc(60,Ui,4,8,"th",41),t.YNc(61,qi,4,5,"td",42),t.BQk(),t.ynx(62,43),t.YNc(63,yi,3,5,"th",35),t.YNc(64,Li,3,1,"td",36),t.BQk(),t.ynx(65,44),t.YNc(66,ki,3,5,"th",41),t.YNc(67,Ii,2,1,"td",45),t.BQk(),t.ynx(68,46),t.YNc(69,Ni,3,5,"th",35),t.YNc(70,Si,3,1,"td",36),t.BQk(),t.ynx(71,47),t.YNc(72,Ri,3,5,"th",35),t.YNc(73,Ji,2,1,"td",36),t.BQk(),t.ynx(74,48),t.YNc(75,Oi,1,2,"th",35),t.YNc(76,Yi,4,3,"td",36),t.BQk(),t.YNc(77,Fi,1,0,"tr",49),t.YNc(78,Di,1,0,"tr",50),t.qZA()(),t.YNc(79,Pi,2,9,"div",51),t.YNc(80,ji,5,3,"div",52),t.qZA()()()),2&i&&(t.xp6(5),t.Q6J("routerLink",t.DdM(31,$i)),t.xp6(2),t.hij(" ",t.lcZ(8,15,"breadcrumbs.home"),""),t.xp6(3),t.Oqu(t.lcZ(11,17,"breadcrumbs.admin")),t.xp6(3),t.Oqu(t.lcZ(14,19,"modules.admin.actionLog.common.breadcrumb")),t.xp6(5),t.hij(" ",t.lcZ(19,21,"modules.admin.actionLog.common.breadcrumb")," - "),t.xp6(3),t.Oqu(t.lcZ(22,23,"modules.admin.actionLog.breadcrumbs.search")),t.xp6(3),t.Oqu(t.lcZ(25,25,"modules.admin.actionLog.breadcrumbs.description")),t.xp6(11),t.s9C("placeholder",t.lcZ(36,27,"modules.admin.actionLog.common.searchKeywordPlaceholder")),t.Q6J("ngModel",o.keyword),t.xp6(13),t.hij("",t.lcZ(49,29,"common.button.search")," "),t.xp6(4),t.Q6J("dataSource",o.dataSourceActionLogs),t.xp6(25),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.length),t.xp6(1),t.Q6J("ngIf",0==o.length))},dependencies:[g.mk,g.O5,c.Fj,c.JJ,c.On,I.gM,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,Q.J,Z.rH,x.X$],styles:['@charset "UTF-8";  .wp-administrator-log-action .logo-app{object-fit:contain}  .wp-administrator-log-action .data-table-action-log .cover{width:40px;height:40px;background-size:cover;background-repeat:no-repeat;background-position:center}  .wp-administrator-log-action .button-datepicker{position:relative;width:250px}  .wp-administrator-log-action .button-datepicker>i{position:absolute;top:9px;left:10px}  .wp-administrator-log-action .button-datepicker .date-range-picker{position:absolute;width:100%;height:100%;padding-top:8px;padding-left:24px}  .wp-administrator-log-action .filter-item{width:250px}  .wp-administrator-log-action .filter-item .select2-container{width:100%!important}  .wp-administrator-log-action .auto-filter-el{cursor:pointer}  .wp-administrator-log-action .auto-filter-el:hover{color:#0c83ff}@media screen and (max-width: 1750px){  .wp-administrator-log-action .data-table-action-log{overflow-x:auto}}@media screen and (max-width: 1024px){  .wp-administrator-log-action .mat-column-username{width:350px}  .wp-administrator-log-action .mat-column-time{width:200px}  .wp-administrator-log-action .mat-column-module{width:150px}  .wp-administrator-log-action .mat-column-ipAndDevice{width:200px}  .wp-administrator-log-action .mat-column-route{width:400px}  .wp-administrator-log-action .mat-column-action{width:140px}}@media screen and (max-width: 768px){  .wp-administrator-log-action .mat-column-username{width:350px}  .wp-administrator-log-action .mat-column-module{width:150px}  .wp-administrator-log-action .mat-column-route{width:400px}}@media screen and (max-width: 575px){  .wp-administrator-log-action .filter-item{width:100%}}@media screen and (max-width: 480px){  .wp-administrator-log-action .mat-column-username{width:350px}}@media screen and (max-width: 320px){  .wp-administrator-log-action .mat-column-username{width:350px}  .wp-administrator-log-action .mat-column-time{width:200px}}@media screen and (max-width: 240px){  .wp-administrator-log-action .mat-column-username{width:350px}  .wp-administrator-log-action .mat-column-time{width:200px}}']}),s})();var zi=u(7160);function Ei(e,s){1&e&&(t.TgZ(0,"th",44),t._uU(1,"# "),t.qZA())}function Hi(e,s){if(1&e&&(t.TgZ(0,"td",45)(1,"span",46),t._uU(2),t.qZA()()),2&e){const n=s.index,i=t.oxw();t.xp6(2),t.Oqu(n+1+(i.pageIndex-1)*i.pageSize)}}function Ki(e,s){1&e&&(t.TgZ(0,"th",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"modules.admin.user.common.username")," "))}function Gi(e,s){if(1&e&&(t.TgZ(0,"td",48)(1,"div",3),t._UZ(2,"div",49),t.TgZ(3,"div",50)(4,"span",51),t._uU(5),t.qZA(),t.TgZ(6,"ul",52)(7,"li",53),t._UZ(8,"i",54),t.ALo(9,"translate"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"li",53),t._UZ(13,"i",55),t.ALo(14,"translate"),t._uU(15),t.qZA()()()()()),2&e){const n=s.$implicit,i=t.oxw();t.xp6(2),t.Akn("background-image: url("+i.avatarDefaultImgUrl+")"),t.xp6(3),t.hij(" ",n.username," "),t.xp6(3),t.s9C("matTooltip",t.lcZ(9,7,"modules.admin.user.common.createdTime")),t.xp6(2),t.hij("",t.xi3(11,9,n.createdAt,"HH:mm dd/MM/YYYY")," "),t.xp6(3),t.s9C("matTooltip",t.lcZ(14,12,"modules.admin.user.common.userId")),t.xp6(2),t.hij("",n.id," ")}}function Bi(e,s){1&e&&(t.TgZ(0,"th",47),t._UZ(1,"i",56),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"modules.admin.user.common.email")," "))}function Vi(e,s){if(1&e&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.hij(" ",n.email," ")}}function Xi(e,s){1&e&&(t.TgZ(0,"th",57),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"modules.admin.user.common.status")," "))}function Wi(e,s){1&e&&(t.TgZ(0,"span",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"modules.admin.user.common.status-1")," "))}function tn(e,s){if(1&e&&(t.TgZ(0,"span",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,"modules.admin.user.common.status"+(null==n?null:n.status)))}}function en(e,s){if(1&e&&(t.TgZ(0,"span",64),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,"modules.admin.user.common.status"+(null==n?null:n.status)))}}function on(e,s){if(1&e&&(t.TgZ(0,"td",58),t.YNc(1,Wi,3,3,"span",59),t.YNc(2,tn,3,3,"span",60),t.YNc(3,en,3,3,"span",61),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.Q6J("ngIf",-1==(null==n?null:n.status)),t.xp6(1),t.Q6J("ngIf",0==(null==n?null:n.status)),t.xp6(1),t.Q6J("ngIf",1==(null==n?null:n.status))}}function nn(e,s){1&e&&t._UZ(0,"th",57)}function sn(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"a",66),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.openUserSwitch(o))}),t._UZ(1,"i",67),t.ALo(2,"translate"),t.qZA()}2&e&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"modules.admin.role.common.switchUser")))}function an(e,s){if(1&e&&(t.TgZ(0,"td",45),t.YNc(1,sn,3,3,"a",65),t.qZA()),2&e){const n=s.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.currentUser&&i.currentUser.userId!==n.id&&1==(null==n?null:n.status)&&i.ruleCheckerService.isAllow("core/user/switchUser"))}}function rn(e,s){1&e&&t._UZ(0,"tr",68)}function ln(e,s){1&e&&t._UZ(0,"tr",69)}const cn=function(e){return{"border-top":e}};function dn(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",70)(1,"app-paginator",71),t.NdJ("page",function(o){t.CHM(n);const a=t.oxw();return t.KtG(a.getPaginator(o))}),t.qZA()()}if(2&e){const n=t.oxw();t.Q6J("ngClass",t.VKq(7,cn,n.users)),t.xp6(1),t.Tol(0==n.length?"d-none":"rounded-bottom-start rounded-bottom-end"),t.Q6J("pageSizeOptions",n.pageSizeOptions)("pageSize",n.pageSize)("pageIndex",n.pageIndex)("length",n.length)}}function mn(e,s){1&e&&(t.TgZ(0,"div",72),t._UZ(1,"i",73),t.TgZ(2,"div",12),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"modules.admin.user.common.noData")))}const un=function(){return["/"]},gn=[{path:"role/search",component:Oo,canActivate:[N.a,M]},{path:"user/search",component:Oe,canActivate:[N.a,M]},{path:"route/search",component:ci,canActivate:[N.a,M]},{path:"action-log/search",component:Mi,canActivate:[N.a,M]},{path:"dmp/user/search",component:(()=>{var e;class s extends C.H{constructor(i,o,a,r,l,d,h,p,_){super(i,a,o),this.authenticationService=i,this.translate=o,this.activatedRoute=a,this.userService=r,this.globalsService=l,this.dialog=d,this.localStorageService=h,this.ruleCheckerService=p,this.location=_,this.length=0,this.pageIndex=1,this.pageSize=30,this.keyword="",this.loadingState=!1,this.users=[],this.pageSizeOptions=[20,30,50,100],this.pageEvent=new S.kl,this.statuses=[-1,0,1],this.displayedColumns=["sequence","name","email","status","action"],this.locationRef=v.N.baseHref,this.avatarDefaultImgUrl=this.globalsService.user.avatar.default,this.activatedRoute.queryParams.subscribe(A=>{this.keyword=A.keyword??"",this.pageSize=A.limit??this.pageSize,this.pageIndex=A.page??this.pageIndex})}ngOnInit(){super.ngOnInit(),this.getDataUser()}ngOnDestroy(){this.subscribeUser&&this.subscribeUser.unsubscribe()}getDataUser(i){this.loadingState=!0;const o={limit:this.pageSize};i?this.pageIndex=1:this.pageIndex>0&&(o.page=this.pageIndex),""!==this.keyword&&(o.keyword=encodeURIComponent(this.keyword)),this.subscribeUser=this.userService.search(o).subscribe(r=>{this.loadingState=!1,this.users=r.data.length>0?r.data:[],this.length=r.count});const a=[];for(const r in o)a.push(r+"="+o[r]);this.location.replaceState("/"+v.N.administratorPrefix+"/dmp/user/search",a.join("&"))}openUserSwitch(i){this.dialog.open(R.$,{autoFocus:!0,width:"400px",height:"auto",panelClass:"admin-dialog-role-create",data:{}}).afterClosed().subscribe(a=>{a&&(this.loadingState=!0,this.authenticationService.switchUser(i.id).subscribe(r=>{if(1===r.status){this.localStorageService.remove("domain_selected");const l=this.authenticationService.getUserFromLocalStorage();this.authenticationService.setOriginalUserInLocalStorage(l);const d=this.authenticationService.formatUser(r?.data?.user);return this.authenticationService.setUserInLocalStorage(d),void(window.location.href=this.locationRef)}AppNoty.error([r.message])}))})}getPaginator(i){this.pageIndex=i.pageIndex,this.pageSize=i.pageSize,this.getDataUser()}}return(e=s).\u0275fac=function(i){return new(i||e)(t.Y36(T.$),t.Y36(x.sK),t.Y36(Z.gz),t.Y36(O.t),t.Y36(H.d),t.Y36(f.uw),t.Y36(E.n),t.Y36(zi.H),t.Y36(g.Ye))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-administrator-dmp-user"]],features:[t.qOj],decls:64,vars:34,consts:[[1,"wp-administrator-dmp-user"],[1,"page-header"],[1,"page-header-content","d-lg-flex","flex-lg-wrap","border-bottom"],[1,"d-flex"],[1,"breadcrumb"],[1,"breadcrumb-item","py-2",3,"routerLink"],[1,"ph-house","me-2"],[1,"breadcrumb-item","active","py-2"],[1,"page-header-content","d-lg-flex","flex-lg-wrap"],[1,"page-title","pt-2","pb-0"],[1,"mb-0"],[1,"fw-normal"],[1,"text-muted"],[1,"content","wp-list-user-content"],[1,"card","mb-0"],[1,"card-header","p-2","pb-0"],[1,"row"],[1,"col-xl-12"],[1,"form-group","mb-2","float-start","me-2","search-user"],[1,"input-group"],[1,"input-group-text"],[1,"ph-funnel"],["type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange","keydown.enter"],[1,"form-group","mb-2","float-start"],[1,"btn","btn-primary",3,"click"],[1,"ph","ph-magnifying-glass","ms-1","icon-small"],[1,"table-responsive"],["mat-table","","aria-describedby","table-users",1,"table","table-sm","table-hover","table-layout-fixed",3,"dataSource"],["table",""],["matColumnDef","sequence"],["mat-header-cell","","class","text-center bg-dark text-white",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","class","bg-dark text-white",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","status"],["mat-header-cell","","class","bg-dark text-white text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-truncate text-center",4,"matCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","rounded-bottom-start rounded-bottom-end d-flex justify-content-end",3,"ngClass",4,"ngIf"],["class","text-center p-2",4,"ngIf"],["mat-header-cell","",1,"text-center","bg-dark","text-white"],["mat-cell","",1,"text-center"],[1,"fs-sm"],["mat-header-cell","",1,"bg-dark","text-white"],["mat-cell",""],[1,"cover"],[1,"ms-2"],[1,"text-primary"],[1,"list","list-unstyled","list-inline","mb-0"],[1,"list-inline-item","text-muted","font-size-base"],[1,"ph","ph-calendar-blank",3,"matTooltip"],[1,"ph","ph-user-circle",3,"matTooltip"],[1,"ph","ph-envelope","me-1"],["mat-header-cell","",1,"bg-dark","text-white","text-center"],["mat-cell","",1,"text-truncate","text-center"],["class","badge bg-warning fw-normal",4,"ngIf"],["class","badge bg-danger fw-normal",4,"ngIf"],["class","badge bg-success fw-normal",4,"ngIf"],[1,"badge","bg-warning","fw-normal"],[1,"badge","bg-danger","fw-normal"],[1,"badge","bg-success","fw-normal"],["class","cursor-pointer",3,"click",4,"ngIf"],[1,"cursor-pointer",3,"click"],[1,"ph","ph-arrows-left-right","me-2",3,"matTooltip"],["mat-header-row",""],["mat-row",""],[1,"rounded-bottom-start","rounded-bottom-end","d-flex","justify-content-end",3,"ngClass"],[3,"pageSizeOptions","pageSize","pageIndex","length","page"],[1,"text-center","p-2"],[1,"mi-inbox"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),t._UZ(6,"i",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"span",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"span",7),t._uU(13),t.ALo(14,"translate"),t.qZA()()()(),t.TgZ(15,"div",8)(16,"div",9)(17,"h5",10),t._uU(18),t.ALo(19,"translate"),t.TgZ(20,"span",11),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.TgZ(23,"div",12),t._uU(24),t.ALo(25,"translate"),t.qZA()()()(),t.TgZ(26,"div",13)(27,"div",14)(28,"div",15)(29,"div",16)(30,"div",17)(31,"div",18)(32,"div",19)(33,"span",20),t._UZ(34,"i",21),t.qZA(),t.TgZ(35,"input",22),t.NdJ("ngModelChange",function(r){return o.keyword=r})("keydown.enter",function(){return o.getDataUser(!0)}),t.ALo(36,"translate"),t.qZA()()(),t.TgZ(37,"div",23)(38,"button",24),t.NdJ("click",function(){return o.getDataUser(!0)}),t._uU(39),t.ALo(40,"translate"),t._UZ(41,"i",25),t.qZA()()()()(),t.TgZ(42,"div",26)(43,"table",27,28),t.ynx(45,29),t.YNc(46,Ei,2,0,"th",30),t.YNc(47,Hi,3,1,"td",31),t.BQk(),t.ynx(48,32),t.YNc(49,Ki,3,3,"th",33),t.YNc(50,Gi,16,14,"td",34),t.BQk(),t.ynx(51,35),t.YNc(52,Bi,4,3,"th",33),t.YNc(53,Vi,2,1,"td",34),t.BQk(),t.ynx(54,36),t.YNc(55,Xi,3,3,"th",37),t.YNc(56,on,4,3,"td",38),t.BQk(),t.ynx(57,39),t.YNc(58,nn,1,0,"th",37),t.YNc(59,an,2,1,"td",31),t.BQk(),t.YNc(60,rn,1,0,"tr",40),t.YNc(61,ln,1,0,"tr",41),t.qZA()(),t.YNc(62,dn,2,9,"div",42),t.YNc(63,mn,5,3,"div",43),t.qZA()()()),2&i&&(t.xp6(5),t.Q6J("routerLink",t.DdM(33,un)),t.xp6(2),t.hij(" ",t.lcZ(8,17,"breadcrumbs.home"),""),t.xp6(3),t.Oqu(t.lcZ(11,19,"breadcrumbs.admin")),t.xp6(3),t.Oqu(t.lcZ(14,21,"modules.admin.user.breadcrumbs.name")),t.xp6(5),t.hij(" ",t.lcZ(19,23,"modules.admin.user.breadcrumbs.name")," - "),t.xp6(3),t.Oqu(t.lcZ(22,25,"modules.admin.user.breadcrumbs.search")),t.xp6(3),t.Oqu(t.lcZ(25,27,"modules.admin.user.breadcrumbs.description")),t.xp6(7),t.Udp("width",300,"px"),t.xp6(4),t.s9C("placeholder",t.lcZ(36,29,"modules.admin.user.common.searchKeywordPlaceholder")),t.Q6J("ngModel",o.keyword),t.xp6(4),t.hij("",t.lcZ(40,31,"common.button.search")," "),t.xp6(4),t.Q6J("dataSource",o.users),t.xp6(17),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.length),t.xp6(1),t.Q6J("ngIf",0==o.users.length))},dependencies:[g.mk,g.O5,c.Fj,c.JJ,c.On,I.gM,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,Q.J,Z.rH,g.uU,x.X$],styles:['@charset "UTF-8";  .wp-administrator-dmp-user .wp-list-user-content .mdc-data-table__cell{overflow:unset!important}  .wp-administrator-dmp-user .wp-list-user-content .form-select-2{width:250px!important}  .wp-administrator-dmp-user .wp-list-user-content .search-user{width:250px}  .wp-administrator-dmp-user .wp-list-user-content .mat-column-sequence{width:62px}  .wp-administrator-dmp-user .wp-list-user-content .mat-column-name{width:350px}  .wp-administrator-dmp-user .wp-list-user-content .mat-column-status{width:150px}  .wp-administrator-dmp-user .wp-list-user-content .mat-column-action{width:90px}  .wp-administrator-dmp-user .wp-list-user-content .more-item{font-size:13px}  .wp-administrator-dmp-user .wp-list-user-content .more-item:hover{color:#0c83ff!important}  .wp-administrator-dmp-user .wp-list-user-content .cover{width:40px;height:40px;background-size:cover;background-repeat:no-repeat;background-position:center}@media screen and (max-width: 1024px){  .wp-administrator-dmp-user .wp-list-user-content .mat-column-name,   .wp-administrator-dmp-user .wp-list-user-content .mat-column-email{width:300px}}@media screen and (max-width: 768px){  .wp-administrator-dmp-user .wp-list-user-content .mat-column-name{width:300px}}@media screen and (max-width: 480px){  .wp-administrator-dmp-user .wp-list-user-content .form-select-2{width:100%!important}  .wp-administrator-dmp-user .wp-list-user-content .search-user{width:100%}}']}),s})(),canActivate:[N.a]}];let hn=(()=>{var e;class s{}return(e=s).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[Z.Bz.forChild(gn),Z.Bz]}),s})();var _n=u(2251),fn=u(4177),xn=u(7331),An=u(2750);let Zn=(()=>{var e;class s{}return(e=s).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,c.u5,fn.m,c.UX,at.sQ.forFeature(),_n.q,hn,xn.Hi,An.Bb]}),s})()}}]);